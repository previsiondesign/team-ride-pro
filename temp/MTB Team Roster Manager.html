<!DOCTYPE html>
<!-- saved from url=(0118)file:///D:/PREVISION%20DESIGN%20Dropbox/Adam%20Phillips/05%20Personal/MTB%20Team/Team%20Practice%20Pro/mtb-roster.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTB Team Roster Manager</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 30px;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            padding: 10px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: #2196F3;
            border-bottom-color: #2196F3;
        }

        .tab-content {
            display: none;
            padding: 20px 0;
        }

        .tab-content.active {
            display: block;
        }

        .section {
            margin-bottom: 30px;
        }

        .section h2 {
            color: #555;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }

        .form-row.inline-form {
            flex-wrap: nowrap;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .form-row.inline-form > * {
            flex: 0 0 auto;
            min-width: 170px;
        }

        textarea {
            resize: vertical;
            min-height: 44px;
        }

        input, select, button, textarea {
            padding: 10px;
            font-size: 14px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        input, select, textarea {
            flex: 1;
        }

        .form-row.inline-form textarea {
            min-width: 260px;
            height: 44px;
            resize: vertical;
        }

        .form-row.inline-form button {
            min-width: 140px;
        }

        .file-upload {
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 220px;
        }

        .file-picker {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 16px;
            background: #2196F3;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: background 0.3s;
        }

        .file-picker:hover {
            background: #1976D2;
        }

        .file-picker input[type="file"] {
            position: absolute;
            inset: 0;
            opacity: 0;
            cursor: pointer;
        }

        .file-picker span {
            pointer-events: none;
        }

        .file-name {
            font-size: 12px;
            color: #555;
            max-width: 220px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        button {
            background: #2196F3;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
            white-space: nowrap;
        }

        button:hover {
            background: #1976D2;
        }

        button.secondary {
            background: #757575;
        }

        button.secondary:hover {
            background: #616161;
        }

        button.danger {
            background: #f44336;
        }

        button.danger:hover {
            background: #d32f2f;
        }

        .list {
            display: grid;
            gap: 10px;
        }

        .list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            padding: 12px;
            background: #f9f9f9;
            border-radius: 4px;
            border-left: 4px solid #2196F3;
        }

        .list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            padding: 8px 12px;
            background: #eceff1;
            border-radius: 4px;
            text-transform: uppercase;
            font-size: 12px;
            font-weight: 600;
            color: #546e7a;
        }

        .list-header .list-header-photo {
            width: 64px;
            text-align: center;
        }

        .list-header .list-header-main {
            flex: 1;
            padding-left: 12px;
        }

        .list-header .list-header-actions {
            min-width: 170px;
            text-align: center;
        }

        .roster-grid {
            display: grid;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 4px;
        }

        .roster-header {
            display: grid;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background: #eceff1;
            border-radius: 4px;
            text-transform: uppercase;
            font-size: 12px;
            font-weight: 600;
            color: #546e7a;
        }

        .roster-row {
            display: grid;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: #f9f9f9;
            border-radius: 4px;
            border-left: 4px solid #2196F3;
        }

        .rider-grid-template {
            grid-template-columns: 70px minmax(220px, 1.8fr) minmax(160px, 1fr) minmax(130px, 0.9fr) minmax(160px, 1fr) minmax(130px, 0.9fr) minmax(240px, 1.6fr) minmax(200px, 1fr);
        }

        .coach-grid-template {
            grid-template-columns: 70px minmax(220px, 1.8fr) minmax(160px, 1fr) minmax(130px, 0.9fr) minmax(130px, 0.9fr) minmax(240px, 1.6fr) minmax(200px, 1fr);
        }

        .roster-photo {
            width: 64px;
            height: 64px;
            border-radius: 8px;
            background: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .roster-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .roster-cell {
            font-size: 13px;
            color: #444;
        }

        .roster-cell strong {
            color: #222;
        }

        .roster-notes {
            color: #616161;
            font-size: 12px;
            line-height: 1.4;
        }

        .roster-actions {
            display: flex;
            flex-direction: column;
            gap: 6px;
            align-items: stretch;
        }

        .roster-row select {
            width: 100%;
        }

        .roster-actions .btn-small {
            width: 100%;
        }

        .list-phone {
            font-size: 13px;
            color: #424242;
        }

        .muted {
            color: #999;
            font-style: italic;
        }

        .photo-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            font-size: 24px;
            color: #757575;
        }

        .debug-output {
            margin-top: 20px;
            background: #f1f8e9;
            border-left: 4px solid #8bc34a;
            padding: 12px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 12px;
            white-space: pre-wrap;
        }

        .field-label {
            font-size: 11px;
            text-transform: uppercase;
            color: #777;
            margin-bottom: 4px;
            display: block;
        }

        .inline-input,
        .inline-select,
        .inline-textarea {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 13px;
        }

        .inline-textarea {
            min-height: 60px;
            resize: vertical;
        }

        .warning-text {
            color: #c62828;
            font-size: 12px;
            margin-top: 4px;
        }

        .group-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            font-size: 12px;
            color: #555;
        }

        .capacity-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: #e3f2fd;
            color: #1565c0;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .group-coaches {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
            margin-bottom: 10px;
        }

        .group-coach-role {
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 12px;
            color: #555;
        }

        .group-coach-role select {
            width: 100%;
        }

        .group-actions {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            margin-bottom: 10px;
        }

        .list-item-main {
            display: flex;
            gap: 12px;
            flex: 1;
        }

        .list-item-photo {
            width: 64px;
            height: 64px;
            border-radius: 8px;
            object-fit: cover;
            background: #e0e0e0;
        }

        .list-item-photo.placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #757575;
            font-size: 24px;
        }

        .list-item-info {
            flex: 1;
        }

        .list-item-name {
            font-weight: 600;
            color: #333;
        }

        .list-item-meta {
            font-size: 12px;
            color: #757575;
            margin-top: 4px;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-grade { background: #fff3e0; color: #e65100; }
        .badge-race { background: #e3f2fd; color: #1565c0; }
        .badge-fitness { background: #e3f2fd; color: #0d47a1; }
        .badge-fitness-1 { background: #e8f5e9; color: #1b5e20; }
        .badge-fitness-2 { background: #dcedc8; color: #33691e; }
        .badge-fitness-3 { background: #fff9c4; color: #f57f17; }
        .badge-fitness-4 { background: #ffe0b2; color: #e65100; }
        .badge-fitness-5 { background: #ffe082; color: #ef6c00; }
        .badge-fitness-6 { background: #ffe0b2; color: #bf360c; }
        .badge-fitness-7 { background: #ffccbc; color: #d84315; }
        .badge-fitness-8 { background: #ffcdd2; color: #c62828; }
        .badge-fitness-9 { background: #f8bbd0; color: #ad1457; }
        .badge-fitness-10 { background: #f3e5f5; color: #6a1b9a; }
        .badge-level { background: #ede7f6; color: #4527a0; }
        .badge-fitness-label { background: #e0f7fa; color: #006064; }

        .btn-small {
            padding: 6px 12px;
            font-size: 12px;
        }

        .checkbox-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 4px;
        }

        .checkbox-item input {
            width: auto;
            margin-right: 10px;
        }

        .checkbox-actions {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
            flex-wrap: wrap;
        }

        .assignments {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .coach-group {
            background: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            border: 2px solid #e0e0e0;
        }

        .coach-group-header {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid #2196F3;
        }

        .rider-card {
            background: white;
            padding: 10px;
            margin: 8px 0;
            border-radius: 4px;
            border-left: 4px solid #2196F3;
            cursor: move;
            transition: all 0.2s;
        }

        .rider-card:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .rider-card.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            min-height: 60px;
            border: 2px dashed #ccc;
            border-radius: 4px;
            padding: 10px;
            transition: all 0.3s;
        }

        .drop-zone.drag-over {
            background: #e3f2fd;
            border-color: #2196F3;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        .stats {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .stat-card {
            flex: 1;
            min-width: 150px;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2196F3;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #333;
        }

        .stat-label {
            font-size: 12px;
            color: #757575;
            margin-top: 5px;
        }

        .action-bar {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸšµ MTB Team Roster Manager</h1>
        
        <div class="tabs">
            <button class="tab" onclick="switchTab(&#39;coaches&#39;, this)">Coach Roster</button>
            <button class="tab" onclick="switchTab(&#39;team&#39;, this)">Team Roster</button>
            <button class="tab active" onclick="switchTab(&#39;rides&#39;, this)">Weekly Rides</button>
        </div>

        <!-- COACH ROSTER TAB -->
        <div id="coaches-tab" class="tab-content">
            <div class="section">
                <h2>Add Coach</h2>
                <div class="form-row inline-form">
                    <div class="file-upload">
                        <label class="file-picker">
                            <input type="file" id="coach-photo" accept="image/*" onchange="handleFileChange(&#39;coach-photo&#39;, &#39;coach-photo-name&#39;)">
                            <span>Select Photo</span>
                        </label>
                        <span class="file-name" id="coach-photo-name" data-default="No file selected">No file selected</span>
                    </div>
                    <input type="text" id="coach-name" placeholder="Name">
                    <input type="tel" id="coach-phone" placeholder="Phone Number">
                    <select id="coach-level">
                        <option value="1">Coach Level 1</option>
                        <option value="2">Coach Level 2</option>
                        <option value="3">Coach Level 3</option>
                    </select>
                    <input type="number" id="coach-fitness" placeholder="Fitness (1-10)" min="1" max="10" value="5">
                    <textarea id="coach-notes" placeholder="Notes"></textarea>
                    <button onclick="addCoach()">Add Coach</button>
                </div>
            </div>

            <div class="section">
                <div id="coaches-list" class="roster-grid">
                <div class="roster-header coach-grid-template">
                    <div>Photo</div>
                    <div>Name</div>
                    <div>Phone</div>
                    <div>Coach Level</div>
                    <div>Fitness</div>
                    <div>Notes</div>
                    <div>Actions</div>
                </div>
            
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150" alt="Alex Johnson">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956167">Name</label>
                            <input class="inline-input" id="coach-name-1762648956167" value="Alex Johnson" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956167">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956167" value="https://i.pravatar.cc/150?img=1" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956167">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956167" value="555-0101" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956167">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956167">
                                <option value="1">Level 1</option>
                                <option value="2" selected="">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956167">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956167" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956167">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956167" placeholder="Notes">Focuses on fundamentals and beginner confidence.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956167)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956167)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(1)" alt="Maria Chen">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956168">Name</label>
                            <input class="inline-input" id="coach-name-1762648956168" value="Maria Chen" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956168">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956168" value="https://i.pravatar.cc/150?img=2" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956168">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956168" value="555-0102" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956168">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956168">
                                <option value="1">Level 1</option>
                                <option value="2" selected="">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956168">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956168" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956168">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956168" placeholder="Notes">Great with route planning and pacing.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956168)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956168)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(2)" alt="David Patel">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956169">Name</label>
                            <input class="inline-input" id="coach-name-1762648956169" value="David Patel" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956169">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956169" value="https://i.pravatar.cc/150?img=3" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956169">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956169" value="555-0103" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956169">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956169">
                                <option value="1">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3" selected="">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956169">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956169" value="7">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956169">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956169" placeholder="Notes">Specializes in technical climbing drills.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956169)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956169)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(3)" alt="Lisa Hernandez">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956170">Name</label>
                            <input class="inline-input" id="coach-name-1762648956170" value="Lisa Hernandez" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956170">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956170" value="https://i.pravatar.cc/150?img=4" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956170">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956170" value="555-0104" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956170">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956170">
                                <option value="1" selected="">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956170">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956170" value="9">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956170">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956170" placeholder="Notes">Leads safety briefings and mechanical checks.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956170)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956170)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(4)" alt="Owen McCarthy">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956171">Name</label>
                            <input class="inline-input" id="coach-name-1762648956171" value="Owen McCarthy" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956171">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956171" value="https://i.pravatar.cc/150?img=5" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956171">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956171" value="555-0105" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956171">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956171">
                                <option value="1">Level 1</option>
                                <option value="2" selected="">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956171">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956171" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956171">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956171" placeholder="Notes">Encourages endurance development on long rides.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956171)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956171)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(5)" alt="Priya Singh">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956172">Name</label>
                            <input class="inline-input" id="coach-name-1762648956172" value="Priya Singh" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956172">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956172" value="https://i.pravatar.cc/150?img=6" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956172">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956172" value="555-0106" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956172">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956172">
                                <option value="1">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3" selected="">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956172">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956172" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956172">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956172" placeholder="Notes">Focuses on fundamentals and beginner confidence.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956172)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956172)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(6)" alt="Cole Ramirez">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956173">Name</label>
                            <input class="inline-input" id="coach-name-1762648956173" value="Cole Ramirez" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956173">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956173" value="https://i.pravatar.cc/150?img=7" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956173">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956173" value="555-0107" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956173">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956173">
                                <option value="1" selected="">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956173">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956173" value="7">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956173">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956173" placeholder="Notes">Great with route planning and pacing.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956173)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956173)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(7)" alt="Jenna King">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956174">Name</label>
                            <input class="inline-input" id="coach-name-1762648956174" value="Jenna King" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956174">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956174" value="https://i.pravatar.cc/150?img=8" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956174">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956174" value="555-0108" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956174">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956174">
                                <option value="1">Level 1</option>
                                <option value="2" selected="">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956174">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956174" value="9">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956174">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956174" placeholder="Notes">Specializes in technical climbing drills.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956174)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956174)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(8)" alt="Marcus Lee">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956175">Name</label>
                            <input class="inline-input" id="coach-name-1762648956175" value="Marcus Lee" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956175">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956175" value="https://i.pravatar.cc/150?img=9" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956175">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956175" value="555-0109" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956175">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956175">
                                <option value="1">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3" selected="">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956175">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956175" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956175">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956175" placeholder="Notes">Leads safety briefings and mechanical checks.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956175)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956175)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(9)" alt="Emily Baker">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956176">Name</label>
                            <input class="inline-input" id="coach-name-1762648956176" value="Emily Baker" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956176">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956176" value="https://i.pravatar.cc/150?img=10" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956176">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956176" value="555-0110" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956176">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956176">
                                <option value="1" selected="">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956176">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956176" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956176">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956176" placeholder="Notes">Encourages endurance development on long rides.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956176)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956176)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(10)" alt="Noah Foster">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956177">Name</label>
                            <input class="inline-input" id="coach-name-1762648956177" value="Noah Foster" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956177">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956177" value="https://i.pravatar.cc/150?img=11" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956177">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956177" value="555-0111" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956177">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956177">
                                <option value="1">Level 1</option>
                                <option value="2" selected="">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956177">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956177" value="7">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956177">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956177" placeholder="Notes">Focuses on fundamentals and beginner confidence.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956177)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956177)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(11)" alt="Harper Wright">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956178">Name</label>
                            <input class="inline-input" id="coach-name-1762648956178" value="Harper Wright" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956178">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956178" value="https://i.pravatar.cc/150?img=12" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956178">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956178" value="555-0112" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956178">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956178">
                                <option value="1">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3" selected="">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956178">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956178" value="9">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956178">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956178" placeholder="Notes">Great with route planning and pacing.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956178)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956178)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(12)" alt="Declan Scott">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956179">Name</label>
                            <input class="inline-input" id="coach-name-1762648956179" value="Declan Scott" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956179">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956179" value="https://i.pravatar.cc/150?img=13" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956179">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956179" value="555-0113" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956179">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956179">
                                <option value="1" selected="">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956179">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956179" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956179">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956179" placeholder="Notes">Specializes in technical climbing drills.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956179)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956179)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(13)" alt="Sofia Navarro">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956180">Name</label>
                            <input class="inline-input" id="coach-name-1762648956180" value="Sofia Navarro" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956180">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956180" value="https://i.pravatar.cc/150?img=14" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956180">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956180" value="555-0114" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956180">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956180">
                                <option value="1">Level 1</option>
                                <option value="2" selected="">Level 2</option>
                                <option value="3">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956180">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956180" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956180">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956180" placeholder="Notes">Leads safety briefings and mechanical checks.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956180)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956180)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(14)" alt="Gavin Brooks">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-1762648956181">Name</label>
                            <input class="inline-input" id="coach-name-1762648956181" value="Gavin Brooks" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-1762648956181">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-1762648956181" value="https://i.pravatar.cc/150?img=15" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-1762648956181">Phone</label>
                            <input class="inline-input" id="coach-phone-1762648956181" value="555-0115" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-1762648956181">Coach Level</label>
                            <select class="inline-select" id="coach-level-1762648956181">
                                <option value="1">Level 1</option>
                                <option value="2">Level 2</option>
                                <option value="3" selected="">Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-1762648956181">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-1762648956181" value="7">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-1762648956181">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-1762648956181" placeholder="Notes">Encourages endurance development on long rides.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(1762648956181)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(1762648956181)">Delete Record</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TEAM ROSTER TAB -->
        <div id="team-tab" class="tab-content">
            <div class="section">
                <h2>Add Team Member</h2>
                <div class="form-row inline-form">
                    <div class="file-upload">
                        <label class="file-picker">
                            <input type="file" id="rider-photo" accept="image/*" onchange="handleFileChange(&#39;rider-photo&#39;, &#39;rider-photo-name&#39;)">
                            <span>Select Photo</span>
                        </label>
                        <span class="file-name" id="rider-photo-name" data-default="No file selected">No file selected</span>
                    </div>
                    <input type="text" id="rider-name" placeholder="Name">
                    <input type="tel" id="rider-phone" placeholder="Phone Number">
                    <select id="rider-grade">
                        <option value="freshman">Freshman</option>
                        <option value="sophomore">Sophomore</option>
                        <option value="junior">Junior</option>
                        <option value="senior">Senior</option>
                    </select>
                    <select id="rider-racing-group">
                        <option value="Freshman">Freshman</option>
                        <option value="JV1">JV1</option>
                        <option value="JV2">JV2</option>
                        <option value="Varsity">Varsity</option>
                    </select>
                    <input type="number" id="rider-fitness" placeholder="Fitness (1-10)" min="1" max="10" value="5">
                    <textarea id="rider-notes" placeholder="Notes"></textarea>
                    <button onclick="addRider()">Add Team Member</button>
                </div>
            </div>

            <div class="section">
                <div id="riders-list" class="roster-grid">
                <div class="roster-header rider-grid-template">
                    <div>Photo</div>
                    <div>Name</div>
                    <div>Phone</div>
                    <div>Grade</div>
                    <div>Racing Group</div>
                    <div>Fitness</div>
                    <div>Notes</div>
                    <div>Actions</div>
                </div>
            
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(15)" alt="Ethan Cole">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957168">Name</label>
                            <input class="inline-input" id="rider-name-1762648957168" value="Ethan Cole" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957168">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957168" value="https://i.pravatar.cc/150?img=20" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957168">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957168" value="555-0201" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957168">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957168" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957168">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957168" value="Freshman" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957168">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957168" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957168">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957168" placeholder="Notes">Consistent climber with strong endurance.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957168)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957168)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(16)" alt="Mia Torres">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957169">Name</label>
                            <input class="inline-input" id="rider-name-1762648957169" value="Mia Torres" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957169">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957169" value="https://i.pravatar.cc/150?img=21" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957169">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957169" value="555-0202" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957169">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957169" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957169">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957169" value="JV1" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957169">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957169" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957169">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957169" placeholder="Notes">Working on cornering technique.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957169)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957169)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(17)" alt="Logan Price">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957170">Name</label>
                            <input class="inline-input" id="rider-name-1762648957170" value="Logan Price" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957170">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957170" value="https://i.pravatar.cc/150?img=22" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957170">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957170" value="555-0203" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957170">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957170" value="Junior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957170">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957170" value="JV2" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957170">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957170" value="6">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957170">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957170" placeholder="Notes">Prefers technical terrain and rock gardens.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957170)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957170)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(18)" alt="Ava Reed">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957171">Name</label>
                            <input class="inline-input" id="rider-name-1762648957171" value="Ava Reed" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957171">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957171" value="https://i.pravatar.cc/150?img=23" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957171">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957171" value="555-0204" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957171">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957171" value="Senior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957171">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957171" value="Varsity" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957171">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957171" value="8">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957171">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957171" placeholder="Notes">Great with group communication and morale.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957171)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957171)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(19)" alt="Wyatt Brooks">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957172">Name</label>
                            <input class="inline-input" id="rider-name-1762648957172" value="Wyatt Brooks" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957172">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957172" value="https://i.pravatar.cc/150?img=24" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957172">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957172" value="555-0205" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957172">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957172" value="Freshman" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957172">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957172" value="Freshman" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957172">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957172" value="10">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957172">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957172" placeholder="Notes">Developing sprint speed for race finishes.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957172)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957172)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(20)" alt="Chloe Sanders">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957173">Name</label>
                            <input class="inline-input" id="rider-name-1762648957173" value="Chloe Sanders" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957173">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957173" value="https://i.pravatar.cc/150?img=25" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957173">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957173" value="555-0206" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957173">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957173" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957173">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957173" value="JV1" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957173">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957173" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957173">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957173" placeholder="Notes">Consistent climber with strong endurance.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957173)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957173)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(21)" alt="Benjamin Ortiz">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957174">Name</label>
                            <input class="inline-input" id="rider-name-1762648957174" value="Benjamin Ortiz" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957174">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957174" value="https://i.pravatar.cc/150?img=26" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957174">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957174" value="555-0207" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957174">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957174" value="Junior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957174">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957174" value="JV2" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957174">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957174" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957174">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957174" placeholder="Notes">Working on cornering technique.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957174)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957174)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(22)" alt="Layla Kim">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957175">Name</label>
                            <input class="inline-input" id="rider-name-1762648957175" value="Layla Kim" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957175">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957175" value="https://i.pravatar.cc/150?img=27" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957175">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957175" value="555-0208" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957175">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957175" value="Senior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957175">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957175" value="Varsity" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957175">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957175" value="6">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957175">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957175" placeholder="Notes">Prefers technical terrain and rock gardens.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957175)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957175)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(23)" alt="Caleb Jordan">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957176">Name</label>
                            <input class="inline-input" id="rider-name-1762648957176" value="Caleb Jordan" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957176">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957176" value="https://i.pravatar.cc/150?img=28" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957176">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957176" value="555-0209" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957176">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957176" value="Freshman" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957176">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957176" value="Freshman" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957176">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957176" value="8">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957176">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957176" placeholder="Notes">Great with group communication and morale.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957176)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957176)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(24)" alt="Nora Fields">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957177">Name</label>
                            <input class="inline-input" id="rider-name-1762648957177" value="Nora Fields" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957177">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957177" value="https://i.pravatar.cc/150?img=29" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957177">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957177" value="555-0210" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957177">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957177" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957177">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957177" value="JV1" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957177">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957177" value="10">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957177">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957177" placeholder="Notes">Developing sprint speed for race finishes.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957177)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957177)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(25)" alt="Landon Hayes">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957178">Name</label>
                            <input class="inline-input" id="rider-name-1762648957178" value="Landon Hayes" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957178">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957178" value="https://i.pravatar.cc/150?img=30" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957178">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957178" value="555-0211" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957178">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957178" value="Junior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957178">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957178" value="JV2" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957178">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957178" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957178">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957178" placeholder="Notes">Consistent climber with strong endurance.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957178)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957178)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(26)" alt="Scarlett Evans">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957179">Name</label>
                            <input class="inline-input" id="rider-name-1762648957179" value="Scarlett Evans" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957179">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957179" value="https://i.pravatar.cc/150?img=31" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957179">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957179" value="555-0212" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957179">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957179" value="Senior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957179">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957179" value="Varsity" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957179">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957179" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957179">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957179" placeholder="Notes">Working on cornering technique.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957179)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957179)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(27)" alt="Julian Foster">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957180">Name</label>
                            <input class="inline-input" id="rider-name-1762648957180" value="Julian Foster" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957180">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957180" value="https://i.pravatar.cc/150?img=32" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957180">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957180" value="555-0213" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957180">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957180" value="Freshman" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957180">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957180" value="Freshman" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957180">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957180" value="6">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957180">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957180" placeholder="Notes">Prefers technical terrain and rock gardens.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957180)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957180)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(28)" alt="Zoe McCoy">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957181">Name</label>
                            <input class="inline-input" id="rider-name-1762648957181" value="Zoe McCoy" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957181">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957181" value="https://i.pravatar.cc/150?img=33" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957181">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957181" value="555-0214" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957181">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957181" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957181">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957181" value="JV1" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957181">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957181" value="8">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957181">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957181" placeholder="Notes">Great with group communication and morale.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957181)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957181)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(29)" alt="Isaiah Blake">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957182">Name</label>
                            <input class="inline-input" id="rider-name-1762648957182" value="Isaiah Blake" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957182">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957182" value="https://i.pravatar.cc/150?img=34" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957182">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957182" value="555-0215" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957182">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957182" value="Junior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957182">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957182" value="JV2" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957182">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957182" value="10">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957182">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957182" placeholder="Notes">Developing sprint speed for race finishes.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957182)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957182)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(30)" alt="Riley Porter">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957183">Name</label>
                            <input class="inline-input" id="rider-name-1762648957183" value="Riley Porter" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957183">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957183" value="https://i.pravatar.cc/150?img=35" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957183">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957183" value="555-0216" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957183">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957183" value="Senior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957183">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957183" value="Varsity" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957183">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957183" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957183">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957183" placeholder="Notes">Consistent climber with strong endurance.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957183)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957183)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(31)" alt="Xavier Dunn">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957184">Name</label>
                            <input class="inline-input" id="rider-name-1762648957184" value="Xavier Dunn" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957184">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957184" value="https://i.pravatar.cc/150?img=36" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957184">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957184" value="555-0217" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957184">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957184" value="Freshman" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957184">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957184" value="Freshman" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957184">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957184" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957184">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957184" placeholder="Notes">Working on cornering technique.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957184)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957184)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(32)" alt="Paisley Grant">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957185">Name</label>
                            <input class="inline-input" id="rider-name-1762648957185" value="Paisley Grant" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957185">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957185" value="https://i.pravatar.cc/150?img=37" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957185">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957185" value="555-0218" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957185">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957185" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957185">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957185" value="JV1" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957185">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957185" value="6">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957185">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957185" placeholder="Notes">Prefers technical terrain and rock gardens.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957185)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957185)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(33)" alt="Grayson Tate">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957186">Name</label>
                            <input class="inline-input" id="rider-name-1762648957186" value="Grayson Tate" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957186">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957186" value="https://i.pravatar.cc/150?img=38" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957186">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957186" value="555-0219" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957186">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957186" value="Junior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957186">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957186" value="JV2" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957186">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957186" value="8">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957186">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957186" placeholder="Notes">Great with group communication and morale.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957186)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957186)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(34)" alt="Brooklyn Shaw">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957187">Name</label>
                            <input class="inline-input" id="rider-name-1762648957187" value="Brooklyn Shaw" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957187">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957187" value="https://i.pravatar.cc/150?img=39" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957187">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957187" value="555-0220" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957187">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957187" value="Senior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957187">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957187" value="Varsity" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957187">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957187" value="10">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957187">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957187" placeholder="Notes">Developing sprint speed for race finishes.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957187)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957187)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(35)" alt="Leo Ramirez">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957188">Name</label>
                            <input class="inline-input" id="rider-name-1762648957188" value="Leo Ramirez" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957188">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957188" value="https://i.pravatar.cc/150?img=40" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957188">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957188" value="555-0221" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957188">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957188" value="Freshman" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957188">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957188" value="Freshman" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957188">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957188" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957188">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957188" placeholder="Notes">Consistent climber with strong endurance.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957188)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957188)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(36)" alt="Piper Klein">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957189">Name</label>
                            <input class="inline-input" id="rider-name-1762648957189" value="Piper Klein" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957189">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957189" value="https://i.pravatar.cc/150?img=41" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957189">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957189" value="555-0222" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957189">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957189" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957189">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957189" value="JV1" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957189">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957189" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957189">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957189" placeholder="Notes">Working on cornering technique.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957189)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957189)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(37)" alt="Connor Walsh">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957190">Name</label>
                            <input class="inline-input" id="rider-name-1762648957190" value="Connor Walsh" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957190">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957190" value="https://i.pravatar.cc/150?img=42" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957190">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957190" value="555-0223" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957190">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957190" value="Junior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957190">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957190" value="JV2" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957190">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957190" value="6">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957190">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957190" placeholder="Notes">Prefers technical terrain and rock gardens.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957190)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957190)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(38)" alt="Sage Elliott">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957191">Name</label>
                            <input class="inline-input" id="rider-name-1762648957191" value="Sage Elliott" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957191">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957191" value="https://i.pravatar.cc/150?img=43" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957191">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957191" value="555-0224" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957191">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957191" value="Senior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957191">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957191" value="Varsity" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957191">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957191" value="8">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957191">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957191" placeholder="Notes">Great with group communication and morale.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957191)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957191)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(39)" alt="Miles Curtis">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957192">Name</label>
                            <input class="inline-input" id="rider-name-1762648957192" value="Miles Curtis" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957192">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957192" value="https://i.pravatar.cc/150?img=44" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957192">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957192" value="555-0225" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957192">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957192" value="Freshman" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957192">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957192" value="Freshman" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957192">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957192" value="10">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957192">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957192" placeholder="Notes">Developing sprint speed for race finishes.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957192)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957192)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(40)" alt="Ellie Benson">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957193">Name</label>
                            <input class="inline-input" id="rider-name-1762648957193" value="Ellie Benson" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957193">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957193" value="https://i.pravatar.cc/150?img=45" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957193">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957193" value="555-0226" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957193">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957193" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957193">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957193" value="JV1" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957193">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957193" value="2">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957193">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957193" placeholder="Notes">Consistent climber with strong endurance.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957193)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957193)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(41)" alt="Sebastian Ford">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957194">Name</label>
                            <input class="inline-input" id="rider-name-1762648957194" value="Sebastian Ford" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957194">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957194" value="https://i.pravatar.cc/150?img=46" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957194">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957194" value="555-0227" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957194">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957194" value="Junior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957194">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957194" value="JV2" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957194">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957194" value="4">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957194">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957194" placeholder="Notes">Working on cornering technique.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957194)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957194)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(42)" alt="Adeline Harper">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957195">Name</label>
                            <input class="inline-input" id="rider-name-1762648957195" value="Adeline Harper" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957195">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957195" value="https://i.pravatar.cc/150?img=47" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957195">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957195" value="555-0228" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957195">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957195" value="Senior" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957195">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957195" value="Varsity" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957195">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957195" value="6">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957195">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957195" placeholder="Notes">Prefers technical terrain and rock gardens.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957195)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957195)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(43)" alt="Jordan Knox">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957196">Name</label>
                            <input class="inline-input" id="rider-name-1762648957196" value="Jordan Knox" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957196">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957196" value="https://i.pravatar.cc/150?img=48" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957196">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957196" value="555-0229" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957196">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957196" value="Freshman" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957196">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957196" value="Freshman" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957196">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957196" value="8">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957196">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957196" placeholder="Notes">Great with group communication and morale.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957196)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957196)">Delete Record</button>
                        </div>
                    </div>
                
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            <img src="./MTB Team Roster Manager_files/150(44)" alt="Mila Lawson">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-1762648957197">Name</label>
                            <input class="inline-input" id="rider-name-1762648957197" value="Mila Lawson" placeholder="Name">
                            <label class="field-label" for="rider-photo-1762648957197">Photo URL</label>
                            <input class="inline-input" id="rider-photo-1762648957197" value="https://i.pravatar.cc/150?img=49" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-1762648957197">Phone</label>
                            <input class="inline-input" id="rider-phone-1762648957197" value="555-0230" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-1762648957197">Grade</label>
                            <input class="inline-input" id="rider-grade-1762648957197" value="Sophomore" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-1762648957197">Racing Group</label>
                            <input class="inline-input" id="rider-racing-1762648957197" value="JV1" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-1762648957197">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-1762648957197" value="10">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-1762648957197">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-1762648957197" placeholder="Notes">Developing sprint speed for race finishes.</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(1762648957197)">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(1762648957197)">Delete Record</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- RIDES TAB -->
        <div id="rides-tab" class="tab-content active">
            <div class="section">
                <h2>Create Weekly Ride</h2>
                <div class="form-row">
                    <input type="date" id="ride-date">
                    <button onclick="createRide()">Create Ride</button>
                </div>
                <div id="rides-list">
                    <div class="list-item" style="border-left-color: #4CAF50;">
                        <div class="list-item-info">
                            <div class="list-item-name">Wednesday, November 5, 2025</div>
                            <div class="list-item-meta">
                                0 coaches, 0 riders
                                 â€¢ <strong>Active</strong>
                            </div>
                        </div>
                        <button class="secondary btn-small" onclick="loadRide(1762656295240)">
                            Active
                        </button>
                    </div>
                </div>
            </div>

            <div id="current-ride" style="display: block;">
                <div class="section">
                    <h2 id="ride-title">Ride: Wednesday, November 5</h2>
                    <div class="action-bar">
                        <button onclick="autoAssign()">ðŸ¤– Auto-Assign</button>
                        <button class="secondary" onclick="clearAssignments()">Clear Assignments</button>
                        <button class="danger" onclick="deleteCurrentRide()">Delete Ride</button>
                    </div>

                    <h3 style="margin: 20px 0 10px 0;">Available Coaches</h3>
                    <div id="available-coaches" class="checkbox-list">
                <div class="checkbox-actions">
                    <button class="btn-small" onclick="setAllCoaches(true)">Select All</button>
                    <button class="btn-small secondary" onclick="setAllCoaches(false)">Clear All</button>
                </div>
            
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956167)">
                        <span>Alex Johnson <span class="badge badge-level">Level 2</span> <span class="badge badge-fitness-2">Fitness 2</span> â€¢ Group 1 (Sweep)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956168)">
                        <span>Maria Chen <span class="badge badge-level">Level 2</span> <span class="badge badge-fitness-4">Fitness 4</span> â€¢ Group 2 (Sweep)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956169)">
                        <span>David Patel <span class="badge badge-level">Level 3</span> <span class="badge badge-fitness-7">Fitness 7</span> â€¢ Group 1 (Leader)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956170)">
                        <span>Lisa Hernandez <span class="badge badge-level">Level 1</span> <span class="badge badge-fitness-9">Fitness 9</span> â€¢ Group 3 (Sweep)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956171)">
                        <span>Owen McCarthy <span class="badge badge-level">Level 2</span> <span class="badge badge-fitness-2">Fitness 2</span> â€¢ Group 4 (Sweep)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956172)">
                        <span>Priya Singh <span class="badge badge-level">Level 3</span> <span class="badge badge-fitness-4">Fitness 4</span> â€¢ Group 2 (Leader)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956173)">
                        <span>Cole Ramirez <span class="badge badge-level">Level 1</span> <span class="badge badge-fitness-7">Fitness 7</span> â€¢ Group 1 (Roam)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956174)">
                        <span>Jenna King <span class="badge badge-level">Level 2</span> <span class="badge badge-fitness-9">Fitness 9</span> â€¢ Group 2 (Roam)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956175)">
                        <span>Marcus Lee <span class="badge badge-level">Level 3</span> <span class="badge badge-fitness-2">Fitness 2</span> â€¢ Group 3 (Leader)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956176)">
                        <span>Emily Baker <span class="badge badge-level">Level 1</span> <span class="badge badge-fitness-4">Fitness 4</span> â€¢ Group 3 (Roam)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956177)">
                        <span>Noah Foster <span class="badge badge-level">Level 2</span> <span class="badge badge-fitness-7">Fitness 7</span> â€¢ Group 4 (Roam)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956178)">
                        <span>Harper Wright <span class="badge badge-level">Level 3</span> <span class="badge badge-fitness-9">Fitness 9</span> â€¢ Group 4 (Leader)</span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956179)">
                        <span>Declan Scott <span class="badge badge-level">Level 1</span> <span class="badge badge-fitness-2">Fitness 2</span></span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956180)">
                        <span>Sofia Navarro <span class="badge badge-level">Level 2</span> <span class="badge badge-fitness-4">Fitness 4</span></span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleCoachAvailability(1762648956181)">
                        <span>Gavin Brooks <span class="badge badge-level">Level 3</span> <span class="badge badge-fitness-7">Fitness 7</span></span>
                    </label>
                </div>

                    <h3 style="margin: 20px 0 10px 0;">Available Riders</h3>
                    <div id="available-riders" class="checkbox-list">
                <div class="checkbox-actions">
                    <button class="btn-small" onclick="setAllRiders(true)">Select All</button>
                    <button class="btn-small secondary" onclick="setAllRiders(false)">Clear All</button>
                </div>
            
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957168)">
                        <span>Ethan Cole 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-2">Fitness 2</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957169)">
                        <span>Mia Torres 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-4">Fitness 4</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957170)">
                        <span>Logan Price 
                            <span class="badge badge-grade">Junior</span>
                            <span class="badge badge-fitness-6">Fitness 6</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957171)">
                        <span>Ava Reed 
                            <span class="badge badge-grade">Senior</span>
                            <span class="badge badge-fitness-8">Fitness 8</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957172)">
                        <span>Wyatt Brooks 
                            <span class="badge badge-grade">Freshman</span>
                            <span class="badge badge-fitness-10">Fitness 10</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957173)">
                        <span>Chloe Sanders 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-2">Fitness 2</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957174)">
                        <span>Benjamin Ortiz 
                            <span class="badge badge-grade">Junior</span>
                            <span class="badge badge-fitness-4">Fitness 4</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957175)">
                        <span>Layla Kim 
                            <span class="badge badge-grade">Senior</span>
                            <span class="badge badge-fitness-6">Fitness 6</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957176)">
                        <span>Caleb Jordan 
                            <span class="badge badge-grade">Freshman</span>
                            <span class="badge badge-fitness-8">Fitness 8</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957177)">
                        <span>Nora Fields 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-10">Fitness 10</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957178)">
                        <span>Landon Hayes 
                            <span class="badge badge-grade">Junior</span>
                            <span class="badge badge-fitness-2">Fitness 2</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957179)">
                        <span>Scarlett Evans 
                            <span class="badge badge-grade">Senior</span>
                            <span class="badge badge-fitness-4">Fitness 4</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957180)">
                        <span>Julian Foster 
                            <span class="badge badge-grade">Freshman</span>
                            <span class="badge badge-fitness-6">Fitness 6</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957181)">
                        <span>Zoe McCoy 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-8">Fitness 8</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957182)">
                        <span>Isaiah Blake 
                            <span class="badge badge-grade">Junior</span>
                            <span class="badge badge-fitness-10">Fitness 10</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957183)">
                        <span>Riley Porter 
                            <span class="badge badge-grade">Senior</span>
                            <span class="badge badge-fitness-2">Fitness 2</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957184)">
                        <span>Xavier Dunn 
                            <span class="badge badge-grade">Freshman</span>
                            <span class="badge badge-fitness-4">Fitness 4</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957185)">
                        <span>Paisley Grant 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-6">Fitness 6</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957186)">
                        <span>Grayson Tate 
                            <span class="badge badge-grade">Junior</span>
                            <span class="badge badge-fitness-8">Fitness 8</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957187)">
                        <span>Brooklyn Shaw 
                            <span class="badge badge-grade">Senior</span>
                            <span class="badge badge-fitness-10">Fitness 10</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957188)">
                        <span>Leo Ramirez 
                            <span class="badge badge-grade">Freshman</span>
                            <span class="badge badge-fitness-2">Fitness 2</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957189)">
                        <span>Piper Klein 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-4">Fitness 4</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957190)">
                        <span>Connor Walsh 
                            <span class="badge badge-grade">Junior</span>
                            <span class="badge badge-fitness-6">Fitness 6</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957191)">
                        <span>Sage Elliott 
                            <span class="badge badge-grade">Senior</span>
                            <span class="badge badge-fitness-8">Fitness 8</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957192)">
                        <span>Miles Curtis 
                            <span class="badge badge-grade">Freshman</span>
                            <span class="badge badge-fitness-10">Fitness 10</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957193)">
                        <span>Ellie Benson 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-2">Fitness 2</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957194)">
                        <span>Sebastian Ford 
                            <span class="badge badge-grade">Junior</span>
                            <span class="badge badge-fitness-4">Fitness 4</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957195)">
                        <span>Adeline Harper 
                            <span class="badge badge-grade">Senior</span>
                            <span class="badge badge-fitness-6">Fitness 6</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957196)">
                        <span>Jordan Knox 
                            <span class="badge badge-grade">Freshman</span>
                            <span class="badge badge-fitness-8">Fitness 8</span>
                        </span>
                    </label>
                
                    <label class="checkbox-item">
                        <input type="checkbox" checked="" onchange="toggleRiderAvailability(1762648957197)">
                        <span>Mila Lawson 
                            <span class="badge badge-grade">Sophomore</span>
                            <span class="badge badge-fitness-10">Fitness 10</span>
                        </span>
                    </label>
                </div>

                    <h3 style="margin: 20px 0 10px 0;">Assignments</h3>
                    <div class="stats" id="assignment-stats">
                <div class="stat-card">
                    <div class="stat-value">30</div>
                    <div class="stat-label">Available Riders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">30</div>
                    <div class="stat-label">Assigned Riders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Unassigned Riders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Assigned Coaches</div>
                </div>
            </div>
                    <div id="assignments" class="assignments">
                <div class="group-actions">
                    <button class="btn-small" onclick="addGroup()">Add Group</button>
                </div>
            
                    <div class="coach-group">
                        <div class="coach-group-header" style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
                            <span>Group 1</span>
                            <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
                                <span class="capacity-badge">Fitness 2</span>
                                <span class="capacity-badge">3 coaches</span>
                                <span class="capacity-badge">6/18 riders</span>
                                <button class="danger btn-small" onclick="deleteGroup(1762656331943)">Remove</button>
                            </div>
                        </div>
                        <div class="group-coaches">
                            <label class="group-coach-role">
                                <span>Leader (front)</span>
                                <select onchange="updateGroupRole(1762656331943, &#39;leader&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169" selected="">
                            David Patel (Level 3)
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Sweep (back)</span>
                                <select onchange="updateGroupRole(1762656331943, &#39;sweep&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167" selected="">
                            Alex Johnson (Level 2)
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Roam (middle)</span>
                                <select onchange="updateGroupRole(1762656331943, &#39;roam&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173" selected="">
                            Cole Ramirez (Level 1)
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                        </div>
                        
                        
                        <div class="drop-zone" data-group-id="1762656331943" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                            
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957168">
                            <strong>Ethan Cole</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-2">Fitness 2</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957173">
                            <strong>Chloe Sanders</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-2">Fitness 2</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957178">
                            <strong>Landon Hayes</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Junior</span>
                                <span class="badge badge-fitness-2">Fitness 2</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957183">
                            <strong>Riley Porter</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Senior</span>
                                <span class="badge badge-fitness-2">Fitness 2</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957188">
                            <strong>Leo Ramirez</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Freshman</span>
                                <span class="badge badge-fitness-2">Fitness 2</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957193">
                            <strong>Ellie Benson</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-2">Fitness 2</span>
                            </div>
                        </div>
                    
                        </div>
                    </div>
                
                    <div class="coach-group">
                        <div class="coach-group-header" style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
                            <span>Group 2</span>
                            <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
                                <span class="capacity-badge">Fitness 4</span>
                                <span class="capacity-badge">3 coaches</span>
                                <span class="capacity-badge">6/18 riders</span>
                                <button class="danger btn-small" onclick="deleteGroup(1762656342449)">Remove</button>
                            </div>
                        </div>
                        <div class="group-coaches">
                            <label class="group-coach-role">
                                <span>Leader (front)</span>
                                <select onchange="updateGroupRole(1762656342449, &#39;leader&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172" selected="">
                            Priya Singh (Level 3)
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Sweep (back)</span>
                                <select onchange="updateGroupRole(1762656342449, &#39;sweep&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168" selected="">
                            Maria Chen (Level 2)
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Roam (middle)</span>
                                <select onchange="updateGroupRole(1762656342449, &#39;roam&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174" selected="">
                            Jenna King (Level 2)
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                        </div>
                        
                        
                        <div class="drop-zone" data-group-id="1762656342449" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                            
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957169">
                            <strong>Mia Torres</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-4">Fitness 4</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957174">
                            <strong>Benjamin Ortiz</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Junior</span>
                                <span class="badge badge-fitness-4">Fitness 4</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957179">
                            <strong>Scarlett Evans</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Senior</span>
                                <span class="badge badge-fitness-4">Fitness 4</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957184">
                            <strong>Xavier Dunn</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Freshman</span>
                                <span class="badge badge-fitness-4">Fitness 4</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957189">
                            <strong>Piper Klein</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-4">Fitness 4</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957194">
                            <strong>Sebastian Ford</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Junior</span>
                                <span class="badge badge-fitness-4">Fitness 4</span>
                            </div>
                        </div>
                    
                        </div>
                    </div>
                
                    <div class="coach-group">
                        <div class="coach-group-header" style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
                            <span>Group 3</span>
                            <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
                                <span class="capacity-badge">Fitness 6</span>
                                <span class="capacity-badge">3 coaches</span>
                                <span class="capacity-badge">8/18 riders</span>
                                <button class="danger btn-small" onclick="deleteGroup(1762656309557)">Remove</button>
                            </div>
                        </div>
                        <div class="group-coaches">
                            <label class="group-coach-role">
                                <span>Leader (front)</span>
                                <select onchange="updateGroupRole(1762656309557, &#39;leader&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175" selected="">
                            Marcus Lee (Level 3)
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Sweep (back)</span>
                                <select onchange="updateGroupRole(1762656309557, &#39;sweep&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170" selected="">
                            Lisa Hernandez (Level 1)
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Roam (middle)</span>
                                <select onchange="updateGroupRole(1762656309557, &#39;roam&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176" selected="">
                            Emily Baker (Level 1)
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                        </div>
                        
                        
                        <div class="drop-zone" data-group-id="1762656309557" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                            
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957170">
                            <strong>Logan Price</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Junior</span>
                                <span class="badge badge-fitness-6">Fitness 6</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957175">
                            <strong>Layla Kim</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Senior</span>
                                <span class="badge badge-fitness-6">Fitness 6</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957180">
                            <strong>Julian Foster</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Freshman</span>
                                <span class="badge badge-fitness-6">Fitness 6</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957185">
                            <strong>Paisley Grant</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-6">Fitness 6</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957190">
                            <strong>Connor Walsh</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Junior</span>
                                <span class="badge badge-fitness-6">Fitness 6</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957195">
                            <strong>Adeline Harper</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Senior</span>
                                <span class="badge badge-fitness-6">Fitness 6</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957192">
                            <strong>Miles Curtis</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Freshman</span>
                                <span class="badge badge-fitness-10">Fitness 10</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957197">
                            <strong>Mila Lawson</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-10">Fitness 10</span>
                            </div>
                        </div>
                    
                        </div>
                    </div>
                
                    <div class="coach-group">
                        <div class="coach-group-header" style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
                            <span>Group 4</span>
                            <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
                                <span class="capacity-badge">Fitness 8</span>
                                <span class="capacity-badge">3 coaches</span>
                                <span class="capacity-badge">10/18 riders</span>
                                <button class="danger btn-small" onclick="deleteGroup(1762656345304)">Remove</button>
                            </div>
                        </div>
                        <div class="group-coaches">
                            <label class="group-coach-role">
                                <span>Leader (front)</span>
                                <select onchange="updateGroupRole(1762656345304, &#39;leader&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178" selected="">
                            Harper Wright (Level 3)
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Sweep (back)</span>
                                <select onchange="updateGroupRole(1762656345304, &#39;sweep&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171" selected="">
                            Owen McCarthy (Level 2)
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177">
                            Noah Foster (Level 2) â€¢ Group 4 Roam
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Roam (middle)</span>
                                <select onchange="updateGroupRole(1762656345304, &#39;roam&#39;, this.value)">
                                    <option value="">-- Unassigned --</option>
                        <option value="1762648956167">
                            Alex Johnson (Level 2) â€¢ Group 1 Sweep
                        </option>
                    
                        <option value="1762648956168">
                            Maria Chen (Level 2) â€¢ Group 2 Sweep
                        </option>
                    
                        <option value="1762648956169">
                            David Patel (Level 3) â€¢ Group 1 Leader
                        </option>
                    
                        <option value="1762648956170">
                            Lisa Hernandez (Level 1) â€¢ Group 3 Sweep
                        </option>
                    
                        <option value="1762648956171">
                            Owen McCarthy (Level 2) â€¢ Group 4 Sweep
                        </option>
                    
                        <option value="1762648956172">
                            Priya Singh (Level 3) â€¢ Group 2 Leader
                        </option>
                    
                        <option value="1762648956173">
                            Cole Ramirez (Level 1) â€¢ Group 1 Roam
                        </option>
                    
                        <option value="1762648956174">
                            Jenna King (Level 2) â€¢ Group 2 Roam
                        </option>
                    
                        <option value="1762648956175">
                            Marcus Lee (Level 3) â€¢ Group 3 Leader
                        </option>
                    
                        <option value="1762648956176">
                            Emily Baker (Level 1) â€¢ Group 3 Roam
                        </option>
                    
                        <option value="1762648956177" selected="">
                            Noah Foster (Level 2)
                        </option>
                    
                        <option value="1762648956178">
                            Harper Wright (Level 3) â€¢ Group 4 Leader
                        </option>
                    
                        <option value="1762648956179">
                            Declan Scott (Level 1)
                        </option>
                    
                        <option value="1762648956180">
                            Sofia Navarro (Level 2)
                        </option>
                    
                        <option value="1762648956181">
                            Gavin Brooks (Level 3)
                        </option>
                    
                                </select>
                            </label>
                        </div>
                        
                        
                        <div class="drop-zone" data-group-id="1762656345304" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                            
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957171">
                            <strong>Ava Reed</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Senior</span>
                                <span class="badge badge-fitness-8">Fitness 8</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957176">
                            <strong>Caleb Jordan</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Freshman</span>
                                <span class="badge badge-fitness-8">Fitness 8</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957181">
                            <strong>Zoe McCoy</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-8">Fitness 8</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957186">
                            <strong>Grayson Tate</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Junior</span>
                                <span class="badge badge-fitness-8">Fitness 8</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957191">
                            <strong>Sage Elliott</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Senior</span>
                                <span class="badge badge-fitness-8">Fitness 8</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957196">
                            <strong>Jordan Knox</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Freshman</span>
                                <span class="badge badge-fitness-8">Fitness 8</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957172">
                            <strong>Wyatt Brooks</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Freshman</span>
                                <span class="badge badge-fitness-10">Fitness 10</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957177">
                            <strong>Nora Fields</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Sophomore</span>
                                <span class="badge badge-fitness-10">Fitness 10</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957182">
                            <strong>Isaiah Blake</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Junior</span>
                                <span class="badge badge-fitness-10">Fitness 10</span>
                            </div>
                        </div>
                    
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="1762648957187">
                            <strong>Brooklyn Shaw</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                <span class="badge badge-grade">Senior</span>
                                <span class="badge badge-fitness-10">Fitness 10</span>
                            </div>
                        </div>
                    
                        </div>
                    </div>
                </div>
                    <pre id="auto-assign-debug" class="debug-output" style="display: block;">Auto-assign run at 11/8/2025, 6:44:59 PM
Available coaches selected: 15
Available riders selected: 30
Desired groups (&lt;=10 riders, ~7 target): 4
Eligible leaders: 11
Groups to be created: 4
Extra roam coaches assigned: Declan Scott â†’ Group 1, Sofia Navarro â†’ Group 2, Gavin Brooks â†’ Group 3
Distinct rider fitness levels: 2, 4, 6, 8, 10
Group 1: 6 riders, coaches: David Patel (Leader), Alex Johnson (Sweep), Cole Ramirez (Roam) [Fitness 2]
Group 2: 6 riders, coaches: Priya Singh (Leader), Maria Chen (Sweep), Jenna King (Roam) [Fitness 4]
Group 3: 8 riders, coaches: Marcus Lee (Leader), Lisa Hernandez (Sweep), Emily Baker (Roam) [Fitness 6]
Group 4: 10 riders, coaches: Harper Wright (Leader), Owen McCarthy (Sweep), Noah Foster (Roam) [Fitness 8]
All selected riders assigned within 10-rider target.</pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let data = {
            riders: [],
            coaches: [],
            rides: [],
            currentRide: null,
            sampleVersion: null
        };

        let autoAssignDebugLog = '';

        const SAMPLE_DATA_VERSION = 1;

        const COACH_NAMES = [
            'Alex Johnson',
            'Maria Chen',
            'David Patel',
            'Lisa Hernandez',
            'Owen McCarthy',
            'Priya Singh',
            'Cole Ramirez',
            'Jenna King',
            'Marcus Lee',
            'Emily Baker',
            'Noah Foster',
            'Harper Wright',
            'Declan Scott',
            'Sofia Navarro',
            'Gavin Brooks'
        ];

        const COACH_NOTES = [
            'Focuses on fundamentals and beginner confidence.',
            'Great with route planning and pacing.',
            'Specializes in technical climbing drills.',
            'Leads safety briefings and mechanical checks.',
            'Encourages endurance development on long rides.'
        ];

        const RIDER_NAMES = [
            'Ethan Cole', 'Mia Torres', 'Logan Price', 'Ava Reed', 'Wyatt Brooks',
            'Chloe Sanders', 'Benjamin Ortiz', 'Layla Kim', 'Caleb Jordan', 'Nora Fields',
            'Landon Hayes', 'Scarlett Evans', 'Julian Foster', 'Zoe McCoy', 'Isaiah Blake',
            'Riley Porter', 'Xavier Dunn', 'Paisley Grant', 'Grayson Tate', 'Brooklyn Shaw',
            'Leo Ramirez', 'Piper Klein', 'Connor Walsh', 'Sage Elliott', 'Miles Curtis',
            'Ellie Benson', 'Sebastian Ford', 'Adeline Harper', 'Jordan Knox', 'Mila Lawson'
        ];

        const RIDER_NOTES = [
            'Consistent climber with strong endurance.',
            'Working on cornering technique.',
            'Prefers technical terrain and rock gardens.',
            'Great with group communication and morale.',
            'Developing sprint speed for race finishes.'
        ];

        function buildDefaultCoaches() {
            const base = Date.now();
            return COACH_NAMES.map((name, index) => {
                const phoneSuffix = (index + 1).toString().padStart(2, '0');
                return {
                    id: base + index + 1,
                    name,
                    phone: `555-01${phoneSuffix}`,
                    level: String((index % 3) + 1),
                    fitness: String((index % 10) + 1),
                    photo: `https://i.pravatar.cc/150?img=${index + 1}`,
                    notes: COACH_NOTES[index % COACH_NOTES.length]
                };
            });
        }

        function buildDefaultRiders() {
            const base = Date.now() + 1000;
            const grades = ['freshman', 'sophomore', 'junior', 'senior'];
            const groups = ['Freshman', 'JV1', 'JV2', 'Varsity'];

            return RIDER_NAMES.map((name, index) => {
                const phoneSuffix = (index + 1).toString().padStart(2, '0');
                return {
                    id: base + index + 1,
                    name,
                    phone: `555-02${phoneSuffix}`,
                    grade: grades[index % grades.length],
                    racingGroup: groups[index % groups.length],
                    fitness: String(((index % 10) + 1)),
                    photo: `https://i.pravatar.cc/150?img=${index + 20}`,
                    notes: RIDER_NOTES[index % RIDER_NOTES.length]
                };
            });
        }

        function generateId() {
            return Date.now() + Math.floor(Math.random() * 100000);
        }

        function normalizeCoachId(value) {
            const id = parseInt(value, 10);
            return Number.isFinite(id) ? id : null;
        }

        function createGroup(label) {
            return {
                id: generateId(),
                label,
                coaches: {
                    leader: null,
                    sweep: null,
                    roam: null,
                    extraRoam: []
                },
                riders: [],
                fitnessTag: null
            };
        }

        function getCoachById(id) {
            return data.coaches.find(coach => coach.id === id) || null;
        }

        function getRiderById(id) {
            return data.riders.find(rider => rider.id === id) || null;
        }

        function countGroupCoaches(group) {
            const baseCount = ['leader', 'sweep', 'roam'].reduce((count, role) => {
                return count + (group.coaches[role] ? 1 : 0);
            }, 0);
            const extra = Array.isArray(group.coaches.extraRoam) ? group.coaches.extraRoam.filter(Boolean).length : 0;
            return baseCount + extra;
        }

        function groupCapacity(group) {
            return countGroupCoaches(group) * 6;
        }

        function findGroupById(ride, groupId) {
            return ride.groups.find(group => group.id === groupId) || null;
        }

        function removeRiderFromGroups(ride, riderId) {
            ride.groups.forEach(group => {
                group.riders = group.riders.filter(id => id !== riderId);
                if (group.riders.length === 0) {
                    group.fitnessTag = null;
                }
            });
        }

        function removeCoachFromGroups(ride, coachId) {
            ride.groups.forEach(group => {
                ['leader', 'sweep', 'roam'].forEach(role => {
                    if (group.coaches[role] === coachId) {
                        group.coaches[role] = null;
                    }
                });
                if (Array.isArray(group.coaches.extraRoam)) {
                    group.coaches.extraRoam = group.coaches.extraRoam.filter(id => id !== coachId);
                }

                const capacity = groupCapacity(group);
                if (group.riders.length > capacity) {
                    group.riders = group.riders.slice(0, capacity);
                }
            });
        }

        function getCoachAssignmentMap(ride) {
            const map = {};
            ride.groups.forEach(group => {
                ['leader', 'sweep', 'roam'].forEach(role => {
                    const coachId = group.coaches[role];
                    if (coachId) {
                        map[coachId] = {
                            groupId: group.id,
                            role
                        };
                    }
                });
                if (Array.isArray(group.coaches.extraRoam)) {
                    group.coaches.extraRoam.forEach((coachId, index) => {
                        if (coachId) {
                            map[coachId] = {
                                groupId: group.id,
                                role: index === 0 ? 'extraRoam' : `extraRoam${index + 1}`
                            };
                        }
                    });
                }
            });
            return map;
        }

        function renumberGroups(ride) {
            ride.groups.forEach((group, index) => {
                group.label = `Group ${index + 1}`;
            });
        }

        function normalizeRideStructure(ride) {
            const updated = Object.assign({}, ride);
            let changed = false;

            if (!Array.isArray(updated.availableCoaches)) {
                updated.availableCoaches = [];
                changed = true;
            }

            if (!Array.isArray(updated.availableRiders)) {
                updated.availableRiders = [];
                changed = true;
            }

            const validCoachIds = new Set(data.coaches.map(coach => coach.id));
            const validRiderIds = new Set(data.riders.map(rider => rider.id));

            const uniqueCoaches = new Set();
            updated.availableCoaches = updated.availableCoaches
                .map(id => parseInt(id, 10))
                .filter(id => Number.isFinite(id) && validCoachIds.has(id) && !uniqueCoaches.has(id) && uniqueCoaches.add(id));

            const uniqueRiders = new Set();
            updated.availableRiders = updated.availableRiders
                .map(id => parseInt(id, 10))
                .filter(id => Number.isFinite(id) && validRiderIds.has(id) && !uniqueRiders.has(id) && uniqueRiders.add(id));

            if (!Array.isArray(updated.groups)) {
                updated.groups = [];
                changed = true;
            }

            if (updated.assignments && typeof updated.assignments === 'object') {
                let index = updated.groups.length + 1;
                Object.entries(updated.assignments).forEach(([coachIdStr, riderIds]) => {
                    const coachId = parseInt(coachIdStr, 10);
                    if (!Number.isFinite(coachId)) {
                        return;
                    }

                    const group = createGroup(`Group ${index++}`);
                    const coach = getCoachById(coachId);

                    if (coach) {
                        const level = parseInt(coach.level, 10);
                        if (Number.isFinite(level) && level >= 2) {
                            group.coaches.leader = coachId;
                        } else {
                            group.coaches.sweep = coachId;
                        }

                        if (!updated.availableCoaches.includes(coachId)) {
                            updated.availableCoaches.push(coachId);
                        }
                    }

                    if (Array.isArray(riderIds)) {
                        group.riders = riderIds
                            .map(id => parseInt(id, 10))
                            .filter(id => Number.isFinite(id) && validRiderIds.has(id));

                        group.riders.forEach(riderId => {
                            if (!updated.availableRiders.includes(riderId)) {
                                updated.availableRiders.push(riderId);
                            }
                        });
                    }

                    updated.groups.push(group);
                });

                delete updated.assignments;
                changed = true;
            }

            updated.groups = updated.groups.map((group, idx) => {
                const extraRoam = group.coaches && Array.isArray(group.coaches.extraRoam)
                    ? group.coaches.extraRoam
                        .map(id => parseInt(id, 10))
                        .filter(id => Number.isFinite(id) && validCoachIds.has(id))
                    : [];

                const legacyFitnessTag = group.fitnessTag || group.abilityTag || null;
                const normalized = {
                    id: typeof group.id === 'number' ? group.id : generateId(),
                    label: group.label || `Group ${idx + 1}`,
                    coaches: {
                        leader: group.coaches ? normalizeCoachId(group.coaches.leader) : null,
                        sweep: group.coaches ? normalizeCoachId(group.coaches.sweep) : null,
                        roam: group.coaches ? normalizeCoachId(group.coaches.roam) : null,
                        extraRoam: extraRoam
                    },
                    riders: Array.isArray(group.riders)
                        ? Array.from(new Set(group.riders.map(id => parseInt(id, 10)).filter(id => Number.isFinite(id) && validRiderIds.has(id))))
                        : [],
                    fitnessTag: legacyFitnessTag
                };

                if (!normalized.coaches.leader && normalized.coaches.sweep) {
                    const sweepCoach = getCoachById(normalized.coaches.sweep);
                    const level = sweepCoach ? parseInt(sweepCoach.level, 10) : 0;
                    if (Number.isFinite(level) && level >= 2) {
                        normalized.coaches.leader = normalized.coaches.sweep;
                        normalized.coaches.sweep = null;
                    }
                }

                if (normalized.coaches.leader && !updated.availableCoaches.includes(normalized.coaches.leader)) {
                    updated.availableCoaches.push(normalized.coaches.leader);
                }
                ['sweep', 'roam'].forEach(role => {
                    const coachId = normalized.coaches[role];
                    if (coachId && !updated.availableCoaches.includes(coachId)) {
                        updated.availableCoaches.push(coachId);
                    }
                });
                normalized.coaches.extraRoam.forEach(coachId => {
                    if (coachId && !updated.availableCoaches.includes(coachId)) {
                        updated.availableCoaches.push(coachId);
                    }
                });

                normalized.riders.forEach(riderId => {
                    if (!updated.availableRiders.includes(riderId)) {
                        updated.availableRiders.push(riderId);
                    }
                });

                return normalized;
            });

            updated.groups.forEach((group, index) => {
                group.label = group.label || `Group ${index + 1}`;
            });

            updated.availableCoaches = Array.from(new Set(updated.availableCoaches));
            updated.availableRiders = Array.from(new Set(updated.availableRiders));

            return { ride: updated, changed };
        }

        // Initialize
        function init() {
            loadData();
            upgradeData();
            renderRiders();
            renderCoaches();
            renderRides();
        }

        function escapeHtml(value) {
            if (value === undefined || value === null) return '';
            return String(value)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#39;');
        }

        function mapAbilityToFitness(ability) {
            const numeric = parseInt(ability, 10);
            if (Number.isFinite(numeric)) {
                return Math.min(10, Math.max(1, numeric * 2));
            }
            return 5;
        }

        function convertRideLevelToFitness(level) {
            if (!level) return 5;
            const normalized = String(level).toLowerCase();
            const mapping = {
                'barely hanging on': 2,
                'ok for roam or sweep': 4,
                'ok to lead lower/middle groups': 7,
                'these kids are slow': 9
            };
            return mapping[normalized] || 5;
        }

        function formatGradeLabel(grade) {
            if (!grade) return '';
            return grade.charAt(0).toUpperCase() + grade.slice(1);
        }

        function upgradeData() {
            let changed = false;

            if (!Array.isArray(data.coaches)) data.coaches = [];
            if (!Array.isArray(data.riders)) data.riders = [];

            data.coaches = data.coaches.map(coach => {
                const upgraded = {
                    id: coach.id || Date.now(),
                    name: coach.name || '',
                    phone: coach.phone || '',
                    level: coach.level ? String(coach.level) : '1',
                    fitness: coach.fitness ? String(coach.fitness) : (coach.rideLevel ? String(convertRideLevelToFitness(coach.rideLevel)) : '5'),
                    photo: coach.photo || '',
                    notes: coach.notes || ''
                };
                if (JSON.stringify(upgraded) !== JSON.stringify(coach)) {
                    changed = true;
                }
                return upgraded;
            });

            const skillToFitness = {
                beginner: '2',
                intermediate: '4',
                advanced: '7',
                expert: '9'
            };

            data.riders = data.riders.map(rider => {
                const upgraded = {
                    id: rider.id || Date.now(),
                    name: rider.name || '',
                    phone: rider.phone || '',
                    grade: (rider.grade || 'freshman').toString().toLowerCase(),
                    racingGroup: rider.racingGroup || 'Freshman',
                    fitness: rider.fitness
                        ? String(rider.fitness)
                        : rider.abilityRanking
                            ? String(mapAbilityToFitness(rider.abilityRanking))
                            : (skillToFitness[rider.skillLevel] || '5'),
                    photo: rider.photo || '',
                    notes: rider.notes || '',
                    // keep legacy skillLevel if present for compatibility
                    skillLevel: rider.skillLevel || undefined
                };
                if (!rider.fitness && (rider.abilityRanking || rider.skillLevel)) {
                    changed = true;
                }
                if (JSON.stringify(upgraded) !== JSON.stringify(rider)) {
                    changed = true;
                }
                return upgraded;
            });

            if (data.sampleVersion !== SAMPLE_DATA_VERSION) {
                data.coaches = buildDefaultCoaches();
                data.riders = buildDefaultRiders();
                data.sampleVersion = SAMPLE_DATA_VERSION;
                changed = true;
            }

            if (!Array.isArray(data.rides)) {
                data.rides = [];
                changed = true;
            } else {
                data.rides = data.rides.map(ride => {
                    const { ride: normalizedRide, changed: rideChanged } = normalizeRideStructure(ride);
                    if (rideChanged) {
                        changed = true;
                    }
                    return normalizedRide;
                });
            }

            if (changed) {
                saveData();
            }
        }

        function handleFileChange(inputId, labelId) {
            const input = document.getElementById(inputId);
            const label = document.getElementById(labelId);
            if (!label) return;
            const defaultText = label.dataset.default || 'No file selected';

            if (input && input.files && input.files.length > 0) {
                label.textContent = input.files[0].name;
            } else {
                label.textContent = defaultText;
            }
        }

        function readPhotoFile(inputId) {
            return new Promise(resolve => {
                const input = document.getElementById(inputId);
                if (!input || !input.files || input.files.length === 0) {
                    resolve('');
                    return;
                }

                const file = input.files[0];
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = () => resolve('');
                reader.readAsDataURL(file);
            });
        }

        // Local storage functions
        function loadData() {
            const stored = localStorage.getItem('mtbRosterData');
            if (stored) {
                data = JSON.parse(stored);
            }
        }

        function saveData() {
            localStorage.setItem('mtbRosterData', JSON.stringify(data));
        }

        // Tab switching
        function switchTab(tabName, element) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));

            if (element) {
                element.classList.add('active');
            }
            const tab = document.getElementById(tabName + '-tab');
            if (tab) {
                tab.classList.add('active');
            }

            if (tabName === 'rides') {
                renderRides();
            } else if (tabName === 'team') {
                renderRiders();
            } else if (tabName === 'coaches') {
                renderCoaches();
            }
        }

        // Rider management
        async function addRider() {
            const name = document.getElementById('rider-name').value.trim();
            const phone = document.getElementById('rider-phone').value.trim();
            const grade = document.getElementById('rider-grade').value;
            const racingGroup = document.getElementById('rider-racing-group').value;
            const fitnessInput = document.getElementById('rider-fitness').value;
            const notes = document.getElementById('rider-notes').value.trim();
            
            if (!name) {
                alert('Please enter a team member name');
                return;
            }

            const fitnessValue = Math.max(1, Math.min(10, parseInt(fitnessInput || '5', 10)));

            const photo = await readPhotoFile('rider-photo');
            
            data.riders.push({
                id: Date.now(),
                name,
                photo,
                phone,
                grade,
                racingGroup,
                fitness: String(fitnessValue),
                notes
            });
            
            resetRiderForm();
            saveData();
            renderRiders();
        }

        function resetRiderForm() {
            document.getElementById('rider-photo').value = '';
            document.getElementById('rider-name').value = '';
            document.getElementById('rider-phone').value = '';
            document.getElementById('rider-grade').value = 'freshman';
            document.getElementById('rider-racing-group').value = 'Freshman';
            document.getElementById('rider-fitness').value = '5';
            document.getElementById('rider-notes').value = '';
            handleFileChange('rider-photo', 'rider-photo-name');
        }

        function deleteRider(id) {
            if (confirm('Delete this rider?')) {
                data.riders = data.riders.filter(r => r.id !== id);
                data.rides.forEach(ride => {
                    ride.availableRiders = ride.availableRiders.filter(riderId => riderId !== id);
                    removeRiderFromGroups(ride, id);
                });
                saveData();
                renderRiders();
                if (data.currentRide) {
                    renderRides();
                }
            }
        }

        function saveRider(id) {
            const rider = data.riders.find(r => r.id === id);
            if (!rider) return;

            const name = document.getElementById(`rider-name-${id}`).value.trim();
            if (!name) {
                alert('Please enter a rider name');
                return;
            }

            const phone = document.getElementById(`rider-phone-${id}`).value.trim();
            const photo = document.getElementById(`rider-photo-${id}`).value.trim();
            const grade = document.getElementById(`rider-grade-${id}`).value.trim().toLowerCase();
            const racingGroup = document.getElementById(`rider-racing-${id}`).value.trim();
            const fitnessInput = document.getElementById(`rider-fitness-${id}`).value;
            const notes = document.getElementById(`rider-notes-${id}`).value.trim();

            const fitnessValue = Math.max(1, Math.min(10, parseInt(fitnessInput || rider.fitness || '5', 10)));

            rider.name = name;
            rider.phone = phone;
            rider.photo = photo;
            rider.grade = grade || rider.grade || 'freshman';
            rider.racingGroup = racingGroup || rider.racingGroup || 'Freshman';
            rider.fitness = String(fitnessValue);
            rider.notes = notes;

            saveData();
            renderRiders();
            if (data.currentRide) {
                const ride = data.rides.find(r => r.id === data.currentRide);
                if (ride) {
                    renderAssignments(ride);
                }
            }
        }

        function renderRiders() {
            const list = document.getElementById('riders-list');
            if (data.riders.length === 0) {
                list.innerHTML = '<div class="empty-state">No riders yet. Add your first rider above.</div>';
                return;
            }

            const header = `
                <div class="roster-header rider-grid-template">
                    <div>Photo</div>
                    <div>Name</div>
                    <div>Phone</div>
                    <div>Grade</div>
                    <div>Racing Group</div>
                    <div>Fitness</div>
                    <div>Notes</div>
                    <div>Actions</div>
                </div>
            `;

            list.innerHTML = header + data.riders.map(rider => {
                const fitnessValue = String(Math.max(1, Math.min(10, parseInt(rider.fitness || '5', 10))));
                const photoMarkup = rider.photo
                    ? `<img src="${escapeHtml(rider.photo)}" alt="${escapeHtml(rider.name || 'Rider')}">`
                    : `<span class="photo-placeholder">ðŸ‘¤</span>`;

                const gradeValue = escapeHtml(formatGradeLabel(rider.grade));
                const racingValue = escapeHtml(rider.racingGroup || '');

                return `
                    <div class="roster-row rider-grid-template">
                        <div class="roster-photo">
                            ${photoMarkup}
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-name-${rider.id}">Name</label>
                            <input class="inline-input" id="rider-name-${rider.id}" value="${escapeHtml(rider.name || '')}" placeholder="Name">
                            <label class="field-label" for="rider-photo-${rider.id}">Photo URL</label>
                            <input class="inline-input" id="rider-photo-${rider.id}" value="${escapeHtml(rider.photo || '')}" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-phone-${rider.id}">Phone</label>
                            <input class="inline-input" id="rider-phone-${rider.id}" value="${escapeHtml(rider.phone || '')}" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-grade-${rider.id}">Grade</label>
                            <input class="inline-input" id="rider-grade-${rider.id}" value="${gradeValue}" placeholder="Grade (e.g. freshman)">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-racing-${rider.id}">Racing Group</label>
                            <input class="inline-input" id="rider-racing-${rider.id}" value="${racingValue}" placeholder="Racing Group">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-fitness-${rider.id}">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="rider-fitness-${rider.id}" value="${escapeHtml(fitnessValue)}">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="rider-notes-${rider.id}">Notes</label>
                            <textarea class="inline-textarea" id="rider-notes-${rider.id}" placeholder="Notes">${escapeHtml(rider.notes || '')}</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveRider(${rider.id})">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteRider(${rider.id})">Delete Record</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Coach management
        async function addCoach() {
            const name = document.getElementById('coach-name').value.trim();
            const phone = document.getElementById('coach-phone').value.trim();
            const level = document.getElementById('coach-level').value;
            const fitnessInput = document.getElementById('coach-fitness').value;
            const notes = document.getElementById('coach-notes').value.trim();
            
            if (!name) {
                alert('Please enter a coach name');
                return;
            }

            const fitnessValue = Math.max(1, Math.min(10, parseInt(fitnessInput || '5', 10)));

            const photo = await readPhotoFile('coach-photo');
            
            data.coaches.push({
                id: Date.now(),
                name,
                photo,
                phone,
                level,
                fitness: String(fitnessValue),
                notes
            });
            
            resetCoachForm();
            saveData();
            renderCoaches();
        }

        function resetCoachForm() {
            document.getElementById('coach-photo').value = '';
            document.getElementById('coach-name').value = '';
            document.getElementById('coach-phone').value = '';
            document.getElementById('coach-level').value = '1';
            document.getElementById('coach-fitness').value = '5';
            document.getElementById('coach-notes').value = '';
            handleFileChange('coach-photo', 'coach-photo-name');
        }

        function deleteCoach(id) {
            if (confirm('Delete this coach?')) {
                data.coaches = data.coaches.filter(c => c.id !== id);
                data.rides.forEach(ride => {
                    ride.availableCoaches = ride.availableCoaches.filter(coachId => coachId !== id);
                    removeCoachFromGroups(ride, id);
                });
                saveData();
                renderCoaches();
                if (data.currentRide) {
                    renderRides();
                }
            }
        }

        function renderCoaches() {
            const list = document.getElementById('coaches-list');
            if (data.coaches.length === 0) {
                list.innerHTML = '<div class="empty-state">No coaches yet. Add your first coach above.</div>';
                return;
            }
            
            const header = `
                <div class="roster-header coach-grid-template">
                    <div>Photo</div>
                    <div>Name</div>
                    <div>Phone</div>
                    <div>Coach Level</div>
                    <div>Fitness</div>
                    <div>Notes</div>
                    <div>Actions</div>
                </div>
            `;

            list.innerHTML = header + data.coaches.map(coach => {
                const photoMarkup = coach.photo
                    ? `<img src="${escapeHtml(coach.photo)}" alt="${escapeHtml(coach.name || 'Coach')}">`
                    : `<span class="photo-placeholder">ðŸš´</span>`;
                const fitnessValue = String(Math.max(1, Math.min(10, parseInt(coach.fitness || '5', 10))));

                return `
                    <div class="roster-row coach-grid-template">
                        <div class="roster-photo">
                            ${photoMarkup}
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-name-${coach.id}">Name</label>
                            <input class="inline-input" id="coach-name-${coach.id}" value="${escapeHtml(coach.name || '')}" placeholder="Name">
                            <label class="field-label" for="coach-photo-url-${coach.id}">Photo URL</label>
                            <input class="inline-input" id="coach-photo-url-${coach.id}" value="${escapeHtml(coach.photo || '')}" placeholder="https://">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-phone-${coach.id}">Phone</label>
                            <input class="inline-input" id="coach-phone-${coach.id}" value="${escapeHtml(coach.phone || '')}" placeholder="Phone Number">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-level-${coach.id}">Coach Level</label>
                            <select class="inline-select" id="coach-level-${coach.id}">
                                <option value="1" ${coach.level === '1' ? 'selected' : ''}>Level 1</option>
                                <option value="2" ${coach.level === '2' ? 'selected' : ''}>Level 2</option>
                                <option value="3" ${coach.level === '3' ? 'selected' : ''}>Level 3</option>
                            </select>
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-fitness-${coach.id}">Fitness (1-10)</label>
                            <input class="inline-input" type="number" min="1" max="10" id="coach-fitness-${coach.id}" value="${escapeHtml(fitnessValue)}">
                        </div>
                        <div class="roster-cell">
                            <label class="field-label" for="coach-notes-${coach.id}">Notes</label>
                            <textarea class="inline-textarea" id="coach-notes-${coach.id}" placeholder="Notes">${escapeHtml(coach.notes || '')}</textarea>
                        </div>
                        <div class="roster-actions">
                            <button class="btn-small" onclick="saveCoach(${coach.id})">Save Updates</button>
                            <button class="danger btn-small" onclick="deleteCoach(${coach.id})">Delete Record</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Ride management
        function createRide() {
            const date = document.getElementById('ride-date').value;
            
            if (!date) {
                alert('Please select a date');
                return;
            }
            
            const ride = {
                id: Date.now(),
                date: date,
                availableCoaches: [],
                availableRiders: [],
                assignments: {},
                groups: []
            };
            
            data.rides.push(ride);
            data.currentRide = ride.id;
            
            document.getElementById('ride-date').value = '';
            saveData();
            renderRides();
            loadCurrentRide();
        }

        function saveCoach(id) {
            const coach = data.coaches.find(c => c.id === id);
            if (!coach) return;

            const name = document.getElementById(`coach-name-${id}`).value.trim();
            if (!name) {
                alert('Please enter a coach name');
                return;
            }

            const phone = document.getElementById(`coach-phone-${id}`).value.trim();
            const photoUrl = document.getElementById(`coach-photo-url-${id}`).value.trim();
            const levelValue = document.getElementById(`coach-level-${id}`).value;
            const fitnessInput = document.getElementById(`coach-fitness-${id}`).value;
            const notes = document.getElementById(`coach-notes-${id}`).value.trim();

            const fitnessValue = Math.max(1, Math.min(10, parseInt(fitnessInput || coach.fitness || '5', 10)));
            const level = ['1', '2', '3'].includes(levelValue) ? levelValue : '1';

            coach.name = name;
            coach.phone = phone;
            coach.photo = photoUrl;
            coach.level = level;
            coach.fitness = String(fitnessValue);
            coach.notes = notes;

            saveData();
            renderCoaches();
            if (data.currentRide) {
                const ride = data.rides.find(r => r.id === data.currentRide);
                if (ride) {
                    renderAssignments(ride);
                }
            }
        }

        function renderRides() {
            const list = document.getElementById('rides-list');
            const rides = [...data.rides].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            if (rides.length === 0) {
                list.innerHTML = '<div class="empty-state">No rides scheduled. Create your first ride above.</div>';
                document.getElementById('current-ride').style.display = 'none';
                return;
            }
            
            list.innerHTML = rides.map(ride => {
                const isActive = data.currentRide === ride.id;
                return `
                    <div class="list-item" style="${isActive ? 'border-left-color: #4CAF50;' : ''}">
                        <div class="list-item-info">
                            <div class="list-item-name">${new Date(ride.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</div>
                            <div class="list-item-meta">
                                ${ride.availableCoaches.length} coaches, ${ride.availableRiders.length} riders
                                ${isActive ? ' â€¢ <strong>Active</strong>' : ''}
                            </div>
                        </div>
                        <button class="${isActive ? 'secondary' : ''} btn-small" onclick="loadRide(${ride.id})">
                            ${isActive ? 'Active' : 'Load'}
                        </button>
                    </div>
                `;
            }).join('');
            
            if (data.currentRide) {
                loadCurrentRide();
            }
        }

        function loadRide(rideId) {
            data.currentRide = rideId;
            saveData();
            loadCurrentRide();
        }

        function loadCurrentRide() {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;
            
            document.getElementById('current-ride').style.display = 'block';
            document.getElementById('ride-title').textContent = `Ride: ${new Date(ride.date).toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}`;
            
            renderAssignments(ride);
        }

        function renderAvailableCoaches(ride) {
            const container = document.getElementById('available-coaches');
            if (!Array.isArray(ride.groups)) {
                ride.groups = [];
            }
            const assignmentMap = getCoachAssignmentMap(ride);

            if (data.coaches.length === 0) {
                container.innerHTML = '<div class="empty-state">No coaches available.</div>';
                return;
            }

            const actionsHtml = `
                <div class="checkbox-actions">
                    <button class="btn-small" onclick="setAllCoaches(true)">Select All</button>
                    <button class="btn-small secondary" onclick="setAllCoaches(false)">Clear All</button>
                </div>
            `;

            const itemsHtml = data.coaches.map(coach => {
                const isAvailable = ride.availableCoaches.includes(coach.id);
                const assignment = assignmentMap[coach.id];
                const groupLabel = assignment ? (ride.groups.find(g => g.id === assignment.groupId)?.label || '') : '';
                let roleLabel = '';
                if (assignment) {
                    if (assignment.role === 'extraRoam' || assignment.role.startsWith('extraRoam')) {
                        roleLabel = 'Roam+';
                    } else {
                        roleLabel = assignment.role.charAt(0).toUpperCase() + assignment.role.slice(1);
                    }
                }
                const assignmentText = assignment ? ` â€¢ ${escapeHtml(groupLabel)} (${roleLabel})` : '';
                const coachFitness = String(Math.max(1, Math.min(10, parseInt(coach.fitness || '5', 10))));

                return `
                    <label class="checkbox-item">
                        <input type="checkbox" 
                               ${isAvailable ? 'checked' : ''}
                               onchange="toggleCoachAvailability(${coach.id})">
                        <span>${escapeHtml(coach.name)} <span class="badge badge-level">Level ${escapeHtml(coach.level || '1')}</span> <span class="badge badge-fitness-${coachFitness}">Fitness ${coachFitness}</span>${assignmentText}</span>
                    </label>
                `;
            }).join('');

            container.innerHTML = actionsHtml + itemsHtml;
        }

        function renderAvailableRiders(ride) {
            const container = document.getElementById('available-riders');
            if (data.riders.length === 0) {
                container.innerHTML = '<div class="empty-state">No riders available.</div>';
                return;
            }

            const actionsHtml = `
                <div class="checkbox-actions">
                    <button class="btn-small" onclick="setAllRiders(true)">Select All</button>
                    <button class="btn-small secondary" onclick="setAllRiders(false)">Clear All</button>
                </div>
            `;

            const itemsHtml = data.riders.map(rider => {
                const fitness = String(Math.max(1, Math.min(10, parseInt(rider.fitness || '5', 10))));
                const gradeLabel = escapeHtml(formatGradeLabel(rider.grade));
                return `
                    <label class="checkbox-item">
                        <input type="checkbox" 
                               ${ride.availableRiders.includes(rider.id) ? 'checked' : ''}
                               onchange="toggleRiderAvailability(${rider.id})">
                        <span>${escapeHtml(rider.name)} 
                            ${gradeLabel ? `<span class="badge badge-grade">${gradeLabel}</span>` : ''}
                            <span class="badge badge-fitness-${fitness}">Fitness ${fitness}</span>
                        </span>
                    </label>
                `;
            }).join('');

            container.innerHTML = actionsHtml + itemsHtml;
        }

        function setAllCoaches(selectAll) {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;

            if (selectAll) {
                ride.availableCoaches = Array.from(new Set(data.coaches.map(coach => coach.id)));
            } else {
                ride.availableCoaches = [];
                if (!Array.isArray(ride.groups)) {
                    ride.groups = [];
                }
                ride.groups.forEach(group => {
                    group.coaches.leader = null;
                    group.coaches.sweep = null;
                    group.coaches.roam = null;
                    group.coaches.extraRoam = [];
                    group.riders = [];
                    group.fitnessTag = null;
                });
            }

            saveData();
            renderAssignments(ride);
        }

        function setAllRiders(selectAll) {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;

            if (selectAll) {
                ride.availableRiders = Array.from(new Set(data.riders.map(rider => rider.id)));
            } else {
                ride.availableRiders = [];
                if (!Array.isArray(ride.groups)) {
                    ride.groups = [];
                }
                ride.groups.forEach(group => {
                    group.riders = [];
                    group.fitnessTag = null;
                });
            }

            saveData();
            renderAssignments(ride);
        }

        function toggleCoachAvailability(coachId) {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;
            
            const index = ride.availableCoaches.indexOf(coachId);
            if (index > -1) {
                ride.availableCoaches.splice(index, 1);
                removeCoachFromGroups(ride, coachId);
            } else {
                ride.availableCoaches.push(coachId);
            }
            
            saveData();
            renderAssignments(ride);
        }

        function toggleRiderAvailability(riderId) {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;
            
            const index = ride.availableRiders.indexOf(riderId);
            if (index > -1) {
                ride.availableRiders.splice(index, 1);
                removeRiderFromGroups(ride, riderId);
            } else {
                ride.availableRiders.push(riderId);
            }
            
            saveData();
            renderAssignments(ride);
        }

        function deleteCurrentRide() {
            if (!confirm('Delete this ride?')) return;
            
            data.rides = data.rides.filter(r => r.id !== data.currentRide);
            data.currentRide = null;
            saveData();
            renderRides();
        }

        // Auto-assignment algorithm
        function autoAssign() {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;
            
            const availableCoaches = ride.availableCoaches
                .map(id => getCoachById(id))
                .filter(Boolean);

            const debugLines = [];
            debugLines.push(`Auto-assign run at ${new Date().toLocaleString()}`);
            debugLines.push(`Available coaches selected: ${availableCoaches.length}`);
            debugLines.push(`Available riders selected: ${ride.availableRiders.length}`);

            if (availableCoaches.length === 0) {
                alert('Please select available coaches first');
                autoAssignDebugLog = debugLines.concat('Aborted: no coaches selected.').join('\n');
                updateDebugOutput();
                return;
            }
            
            if (ride.availableRiders.length === 0) {
                alert('Please select available riders first');
                autoAssignDebugLog = debugLines.concat('Aborted: no riders selected.').join('\n');
                updateDebugOutput();
                return;
            }

            const leaders = availableCoaches.filter(coach => {
                const level = parseInt(coach.level, 10);
                return Number.isFinite(level) && level >= 2;
            });

            if (leaders.length === 0) {
                alert('Auto-assign needs at least one Level 2 or 3 coach to lead a group.');
                autoAssignDebugLog = debugLines.concat('Aborted: no Level 2+ coaches available to lead.').join('\n');
                updateDebugOutput();
                return;
            }

            const desiredGroupsMinFitnessTarget = Math.ceil(ride.availableRiders.length / 7);
            const desiredGroupsMaxFitness = Math.ceil(ride.availableRiders.length / 10);
            const desiredGroups = Math.max(1, Math.floor((desiredGroupsMinFitnessTarget + desiredGroupsMaxFitness) / 2));
            let groupCount = Math.min(leaders.length, desiredGroups);
            groupCount = Math.max(1, groupCount);
            debugLines.push(`Desired groups (<=10 riders, ~7 target): ${desiredGroups}`);
            debugLines.push(`Eligible leaders: ${leaders.length}`);
            debugLines.push(`Groups to be created: ${groupCount}`);

            const sortedLeaders = [...leaders].sort((a, b) => parseInt(b.level, 10) - parseInt(a.level, 10));
            const assignedCoachIds = new Set();

            ride.groups = [];

            sortedLeaders.slice(0, groupCount).forEach((leader, index) => {
                const group = createGroup(`Group ${index + 1}`);
                group.coaches.leader = leader.id;
                assignedCoachIds.add(leader.id);
                ride.groups.push(group);
            });

            const remainingCoaches = availableCoaches.filter(coach => !assignedCoachIds.has(coach.id));

            ride.groups.forEach(group => {
                if (remainingCoaches.length === 0) return;
                const coach = remainingCoaches.shift();
                group.coaches.sweep = coach.id;
                assignedCoachIds.add(coach.id);
            });

            ride.groups.forEach(group => {
                if (remainingCoaches.length === 0) return;
                const coach = remainingCoaches.shift();
                group.coaches.roam = coach.id;
                assignedCoachIds.add(coach.id);
            });

            const extraRoamAssignments = [];
            if (remainingCoaches.length > 0) {
                const groupsBySize = [...ride.groups];
                let index = 0;
                while (remainingCoaches.length > 0 && groupsBySize.length > 0) {
                    const coach = remainingCoaches.shift();
                    const group = groupsBySize[index % groupsBySize.length];
                    if (!Array.isArray(group.coaches.extraRoam)) {
                        group.coaches.extraRoam = [];
                    }
                    group.coaches.extraRoam.push(coach.id);
                    assignedCoachIds.add(coach.id);
                    extraRoamAssignments.push(`${coach.name || 'Coach'} â†’ ${group.label}`);
                    index++;
                }
            }
            if (extraRoamAssignments.length > 0) {
                debugLines.push(`Extra roam coaches assigned: ${extraRoamAssignments.join(', ')}`);
            }

            ride.groups.forEach(group => {
                group.riders = [];
                group.fitnessTag = null;
                if (!Array.isArray(group.coaches.extraRoam)) {
                    group.coaches.extraRoam = [];
                } else {
                    group.coaches.extraRoam = [];
                }
            });

            const sortedRiders = ride.availableRiders
                .map(id => getRiderById(id))
                .filter(Boolean)
                .sort((a, b) => (parseInt(a.fitness || '5', 10) - parseInt(b.fitness || '5', 10)));

            const fitnessLevels = Array.from(new Set(sortedRiders.map(r => String(r.fitness || '5'))))
                .sort((a, b) => parseInt(a, 10) - parseInt(b, 10));
            debugLines.push(`Distinct rider fitness levels: ${fitnessLevels.join(', ')}`);

            const fitnessBuckets = {};
            fitnessLevels.forEach(level => {
                fitnessBuckets[level] = [];
            });
            sortedRiders.forEach(rider => {
                const fitnessLevel = String(rider.fitness || '5');
                if (!fitnessBuckets[fitnessLevel]) {
                    fitnessBuckets[fitnessLevel] = [];
                }
                fitnessBuckets[fitnessLevel].push(rider.id);
            });

            const groupsWithCapacity = ride.groups
                .map(group => {
                    const capacity = groupCapacity(group);
                    if (capacity === 0) {
                        return null;
                    }
                    const baseMax = Math.min(10, capacity);
                    const targetMax = Math.max(1, baseMax);
                    const targetMin = Math.min(5, targetMax);
                    return { group, capacity, targetMin, targetMax, fitness: group.fitnessTag || null };
                })
                .filter(Boolean);

            const unassignedGroupInfos = groupsWithCapacity.filter(info => !info.group.fitnessTag);

            fitnessLevels.forEach(level => {
                const bucket = fitnessBuckets[level];
                if (!bucket || bucket.length === 0) return;

                let fitnessGroupInfos = groupsWithCapacity.filter(info => info.group.fitnessTag === level);
                let effectiveCapacity = fitnessGroupInfos.reduce((sum, info) => sum + info.targetMax, 0);

                while (effectiveCapacity < bucket.length && unassignedGroupInfos.length > 0) {
                    const info = unassignedGroupInfos.shift();
                    info.group.fitnessTag = level;
                    info.fitness = level;
                    fitnessGroupInfos.push(info);
                    effectiveCapacity += info.targetMax;
                }
            });

            const assignToFitnessGroups = level => {
                const bucket = fitnessBuckets[level];
                if (!bucket || bucket.length === 0) return;

                let fitnessGroupInfos = groupsWithCapacity.filter(info => info.group.fitnessTag === level);

                if (fitnessGroupInfos.length === 0 && unassignedGroupInfos.length > 0) {
                    const info = unassignedGroupInfos.shift();
                    info.group.fitnessTag = level;
                    info.fitness = level;
                    fitnessGroupInfos.push(info);
                }

                fitnessGroupInfos.sort((a, b) => a.group.riders.length - b.group.riders.length);

                fitnessGroupInfos.forEach(info => {
                    while (bucket.length > 0 && info.group.riders.length < info.targetMax) {
                        const riderId = bucket.shift();
                        info.group.riders.push(riderId);
                        info.fitness = level;
                    }
                });

                while (bucket.length > 0 && unassignedGroupInfos.length > 0) {
                    const info = unassignedGroupInfos.shift();
                    info.group.fitnessTag = level;
                    info.fitness = level;
                    fitnessGroupInfos.push(info);
                    while (bucket.length > 0 && info.group.riders.length < info.targetMax) {
                        const riderId = bucket.shift();
                        info.group.riders.push(riderId);
                    }
                }

                fitnessBuckets[level] = bucket;
            };

            fitnessLevels.forEach(assignToFitnessGroups);

            const leftovers = [];
            fitnessLevels.forEach(level => {
                const bucket = fitnessBuckets[level] || [];
                while (bucket.length > 0) {
                    leftovers.push({ id: bucket.shift(), fitness: level });
                }
            });

            const findGroupForLeftover = (fitnessLevel) => {
                const candidates = groupsWithCapacity.filter(info => info.group.riders.length < info.targetMax);
                if (candidates.length === 0) return null;

                const sameFitness = candidates
                    .filter(info => info.group.fitnessTag === fitnessLevel)
                    .sort((a, b) => a.group.riders.length - b.group.riders.length);
                if (sameFitness.length > 0) {
                    return sameFitness[0];
                }

                const unassigned = candidates
                    .filter(info => info.group.fitnessTag == null)
                    .sort((a, b) => a.group.riders.length - b.group.riders.length);
                if (unassigned.length > 0) {
                    const chosen = unassigned[0];
                    chosen.group.fitnessTag = fitnessLevel;
                    chosen.fitness = fitnessLevel;
                    return chosen;
                }

                const ranked = candidates
                    .map(info => {
                        const groupFitness = info.group.fitnessTag != null ? parseInt(info.group.fitnessTag, 10) : parseInt(fitnessLevel, 10);
                        const diff = Math.abs(groupFitness - parseInt(fitnessLevel, 10));
                        return { info, diff };
                    })
                    .sort((a, b) => {
                        if (a.diff !== b.diff) return a.diff - b.diff;
                        return a.info.group.riders.length - b.info.group.riders.length;
                    });

                return ranked.length > 0 ? ranked[0].info : null;
            };

            const leftoverUnplaced = [];
            leftovers.forEach(item => {
                const groupInfo = findGroupForLeftover(item.fitness);
                if (groupInfo && groupInfo.group.riders.length < groupInfo.targetMax) {
                    groupInfo.group.riders.push(item.id);
                    if (!groupInfo.group.fitnessTag) {
                        groupInfo.group.fitnessTag = item.fitness;
                    }
                    if (!groupInfo.fitness) {
                        groupInfo.fitness = item.fitness;
                    }
                } else {
                    leftoverUnplaced.push(item);
                }
            });

            renumberGroups(ride);
            ride.assignments = {};
            saveData();
            renderAssignments(ride);

            ride.groups.forEach(group => {
                const coachesForGroup = [];
                const leader = getCoachById(group.coaches.leader);
                if (leader) coachesForGroup.push(`${leader.name || 'Coach'} (Leader)`);
                const sweep = getCoachById(group.coaches.sweep);
                if (sweep) coachesForGroup.push(`${sweep.name || 'Coach'} (Sweep)`);
                const roam = getCoachById(group.coaches.roam);
                if (roam) coachesForGroup.push(`${roam.name || 'Coach'} (Roam)`);
                if (Array.isArray(group.coaches.extraRoam) && group.coaches.extraRoam.length > 0) {
                    group.coaches.extraRoam.forEach(id => {
                        const coach = getCoachById(id);
                        if (coach) {
                            coachesForGroup.push(`${coach.name || 'Coach'} (Roam+)`);
                        }
                    });
                }
                const fitnessLabel = group.fitnessTag ? `Fitness ${group.fitnessTag}` : 'Mixed Fitness';
                debugLines.push(`${group.label}: ${group.riders.length} riders, coaches: ${coachesForGroup.join(', ') || 'None'} [${fitnessLabel}]`);
                if (group.riders.length > 10) {
                    debugLines.push(`âš ï¸  ${group.label} exceeds the 10 rider target (current: ${group.riders.length}).`);
                }
            });

            if (leftoverUnplaced.length > 0) {
                debugLines.push(`Unplaced riders due to limits: ${leftoverUnplaced.length}`);
            } else {
                debugLines.push('All selected riders assigned within 10-rider target.');
            }

            autoAssignDebugLog = debugLines.join('\n');
            updateDebugOutput();
        }

        function clearAssignments() {
            if (!confirm('Clear all assignments?')) return;
            
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;
            
            ride.groups.forEach(group => {
                group.riders = [];
                group.fitnessTag = null;
            });
            ride.assignments = {};
            saveData();
            renderAssignments(ride);
            autoAssignDebugLog = `Assignments cleared at ${new Date().toLocaleString()}.`;
            updateDebugOutput();
        }

        // Assignment rendering and drag-drop
        function renderAssignments(ride) {
            const container = document.getElementById('assignments');
            const statsContainer = document.getElementById('assignment-stats');
            if (!container || !statsContainer) return;

            renumberGroups(ride);

            const coachAssignmentMap = getCoachAssignmentMap(ride);
            const assignedCoachIds = new Set(
                Object.keys(coachAssignmentMap)
                    .map(id => parseInt(id, 10))
                    .filter(id => Number.isFinite(id))
            );

            const totalAssignedRiders = ride.groups.reduce((sum, group) => sum + group.riders.length, 0);
            const unassignedRiders = ride.availableRiders.filter(riderId => {
                return !ride.groups.some(group => group.riders.includes(riderId));
            });

            statsContainer.innerHTML = `
                <div class="stat-card">
                    <div class="stat-value">${ride.availableRiders.length}</div>
                    <div class="stat-label">Available Riders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${totalAssignedRiders}</div>
                    <div class="stat-label">Assigned Riders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${unassignedRiders.length}</div>
                    <div class="stat-label">Unassigned Riders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${assignedCoachIds.size}</div>
                    <div class="stat-label">Assigned Coaches</div>
                </div>
            `;

            const availableCoachSet = new Set(ride.availableCoaches);
            ride.groups.forEach(group => {
                ['leader', 'sweep', 'roam'].forEach(role => {
                    const coachId = group.coaches[role];
                    if (coachId) {
                        availableCoachSet.add(coachId);
                    }
                });
                if (Array.isArray(group.coaches.extraRoam)) {
                    group.coaches.extraRoam.forEach(coachId => {
                        if (coachId) {
                            availableCoachSet.add(coachId);
                        }
                    });
                }
            });

            function buildCoachOptions(group, role) {
                const currentId = group.coaches[role];
                const options = ['<option value="">-- Unassigned --</option>'];

                data.coaches.forEach(coach => {
                    if (!availableCoachSet.has(coach.id) && coach.id !== currentId) {
                        return;
                    }

                    const assignment = coachAssignmentMap[coach.id];
                    const assignedElsewhere = assignment && !(assignment.groupId === group.id && assignment.role === role);
                    const assignedGroupLabel = assignment ? (ride.groups.find(g => g.id === assignment.groupId)?.label || 'Group') : '';
                    let roleName = '';
                    if (assignment) {
                        if (assignment.role === 'extraRoam' || assignment.role.startsWith('extraRoam')) {
                            roleName = 'Roam+';
                        } else {
                            roleName = assignment.role.charAt(0).toUpperCase() + assignment.role.slice(1);
                        }
                    }

                    const extra = assignedElsewhere ? ` â€¢ ${assignedGroupLabel} ${roleName}` : '';
                    options.push(`
                        <option value="${coach.id}" ${coach.id === currentId ? 'selected' : ''}>
                            ${coach.name} (Level ${coach.level || '1'})${extra}
                        </option>
                    `);
                });

                return options.join('');
            }

            const groupCards = ride.groups.length ? ride.groups.map(group => {
                const coachCount = countGroupCoaches(group);
                const capacity = groupCapacity(group);
                const warnings = [];

                if (!group.coaches.leader) {
                    warnings.push('Assign a leader (Level 2 or 3)');
                } else {
                    const leader = getCoachById(group.coaches.leader);
                    const leaderLevel = leader ? parseInt(leader.level, 10) : 0;
                    if (!Number.isFinite(leaderLevel) || leaderLevel < 2) {
                        warnings.push('Leader must be Level 2 or 3');
                    }
                }

                if (coachCount === 0) {
                    warnings.push('Add at least one coach to this group');
                }

                if (coachCount > 0 && group.riders.length > capacity) {
                    warnings.push('Group is over capacity');
                }

                const riderFitnesses = group.riders
                    .map(id => getRiderById(id))
                    .filter(Boolean)
                    .map(r => String(Math.max(1, Math.min(10, parseInt(r.fitness || '5', 10)))));

                if (riderFitnesses.length === 0) {
                    group.fitnessTag = null;
                } else {
                    const uniqueFitnesses = Array.from(new Set(riderFitnesses));
                    if (uniqueFitnesses.length === 1) {
                        group.fitnessTag = uniqueFitnesses[0];
                    } else if (!group.fitnessTag) {
                        group.fitnessTag = uniqueFitnesses[0];
                    }
                }

                const ridersHtml = group.riders.map(riderId => {
                    const rider = getRiderById(riderId);
                    if (!rider) return '';
                    const fitness = String(Math.max(1, Math.min(10, parseInt(rider.fitness || '5', 10))));
                    const gradeLabel = escapeHtml(formatGradeLabel(rider.grade));
                    return `
                        <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="${riderId}">
                            <strong>${escapeHtml(rider.name)}</strong>
                            <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                ${gradeLabel ? `<span class="badge badge-grade">${gradeLabel}</span>` : ''}
                                <span class="badge badge-fitness-${fitness}">Fitness ${fitness}</span>
                            </div>
                        </div>
                    `;
                }).join('');

                const fitnessLabel = group.fitnessTag ? `Fitness ${escapeHtml(group.fitnessTag)}` : 'Mixed Fitness';
                const extraRoams = Array.isArray(group.coaches.extraRoam) ? group.coaches.extraRoam.filter(Boolean) : [];
                const extraRoamCoaches = extraRoams
                    .map(id => getCoachById(id))
                    .filter(Boolean);
                const extraRoamHtml = extraRoamCoaches.length
                    ? `<div class="list-item-meta">Extra Roam: ${extraRoamCoaches.map(c => escapeHtml(c.name || 'Coach')).join(', ')}</div>`
                    : '';

                return `
                    <div class="coach-group">
                        <div class="coach-group-header" style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
                            <span>${group.label}</span>
                            <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
                                <span class="capacity-badge">${fitnessLabel}</span>
                                <span class="capacity-badge">${coachCount} coach${coachCount === 1 ? '' : 'es'}</span>
                                <span class="capacity-badge">${coachCount > 0 ? `${group.riders.length}/${capacity} riders` : 'No coaches assigned'}</span>
                                <button class="danger btn-small" onclick="deleteGroup(${group.id})">Remove</button>
                            </div>
                        </div>
                        <div class="group-coaches">
                            <label class="group-coach-role">
                                <span>Leader (front)</span>
                                <select onchange="updateGroupRole(${group.id}, 'leader', this.value)">
                                    ${buildCoachOptions(group, 'leader')}
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Sweep (back)</span>
                                <select onchange="updateGroupRole(${group.id}, 'sweep', this.value)">
                                    ${buildCoachOptions(group, 'sweep')}
                                </select>
                            </label>
                            <label class="group-coach-role">
                                <span>Roam (middle)</span>
                                <select onchange="updateGroupRole(${group.id}, 'roam', this.value)">
                                    ${buildCoachOptions(group, 'roam')}
                                </select>
                            </label>
                        </div>
                        ${extraRoamHtml}
                        ${warnings.length ? `<div class="warning-text">${warnings.join(' â€¢ ')}</div>` : ''}
                        <div class="drop-zone" data-group-id="${group.id}" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                            ${ridersHtml || '<div style="text-align: center; color: #999; padding: 20px;">No riders assigned</div>'}
                        </div>
                    </div>
                `;
            }).join('') : '<div class="empty-state">No ride groups yet. Use Add Group or Auto-Assign to get started.</div>';

            const groupActions = `
                <div class="group-actions">
                    <button class="btn-small" onclick="addGroup()">Add Group</button>
                </div>
            `;

            const unassignedBlock = unassignedRiders.length > 0 ? `
                <div class="coach-group" style="grid-column: 1 / -1;">
                    <div class="coach-group-header">
                        Unassigned Riders (${unassignedRiders.length})
                    </div>
                    <div class="drop-zone" data-group-id="unassigned" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                        ${unassignedRiders.map(riderId => {
                            const rider = getRiderById(riderId);
                            if (!rider) return '';
                            const fitness = String(Math.max(1, Math.min(10, parseInt(rider.fitness || '5', 10))));
                            const gradeLabel = escapeHtml(formatGradeLabel(rider.grade));
                            return `
                                <div class="rider-card" draggable="true" ondragstart="drag(event)" data-rider-id="${riderId}">
                                    <strong>${escapeHtml(rider.name)}</strong>
                                    <div style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;">
                                        ${gradeLabel ? `<span class="badge badge-grade">${gradeLabel}</span>` : ''}
                                        <span class="badge badge-fitness-${fitness}">Fitness ${fitness}</span>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            ` : '';

            container.innerHTML = groupActions + groupCards + unassignedBlock;

            renderAvailableCoaches(ride);
            renderAvailableRiders(ride);
            updateDebugOutput();
        }

        function updateDebugOutput() {
            const debugEl = document.getElementById('auto-assign-debug');
            if (!debugEl) return;
            if (autoAssignDebugLog) {
                debugEl.style.display = 'block';
                debugEl.textContent = autoAssignDebugLog;
            } else {
                debugEl.style.display = 'none';
                debugEl.textContent = '';
            }
        }

        function addGroup() {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;
            const group = createGroup(`Group ${ride.groups.length + 1}`);
            ride.groups.push(group);
            renumberGroups(ride);
            saveData();
            renderAssignments(ride);
        }

        function deleteGroup(groupId) {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;
            const numericId = parseInt(groupId, 10);
            if (!Number.isFinite(numericId)) return;

            const group = findGroupById(ride, numericId);
            if (!group) return;

            if (!confirm('Delete this group? Riders will move back to the unassigned list.')) {
                return;
            }

            ride.groups = ride.groups.filter(g => g.id !== numericId);
            renumberGroups(ride);
            saveData();
            renderAssignments(ride);
        }

        function updateGroupRole(groupId, role, coachIdValue) {
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride) return;

            const numericGroupId = parseInt(groupId, 10);
            if (!Number.isFinite(numericGroupId)) return;

            const group = findGroupById(ride, numericGroupId);
            if (!group) return;
            if (!Array.isArray(group.coaches.extraRoam)) {
                group.coaches.extraRoam = [];
            }

            const coachId = parseInt(coachIdValue, 10);

            if (!Number.isFinite(coachId)) {
                if (group.coaches[role]) {
                    group.coaches[role] = null;
                    saveData();
                    renderAssignments(ride);
                }
                return;
            }

            const coach = getCoachById(coachId);
            if (!coach) {
                alert('Selected coach no longer exists.');
                renderAssignments(ride);
                return;
            }

            const level = parseInt(coach.level, 10);
            if (role === 'leader' && (!Number.isFinite(level) || level < 2)) {
                alert('Only Level 2 or Level 3 coaches can serve as leader.');
                renderAssignments(ride);
                return;
            }

            // Ensure coach is marked available
            if (!ride.availableCoaches.includes(coachId)) {
                ride.availableCoaches.push(coachId);
            }

            // Remove coach from any other role
            ride.groups.forEach(g => {
                ['leader', 'sweep', 'roam'].forEach(r => {
                    if (g.id === numericGroupId && r === role) return;
                    if (g.coaches[r] === coachId) {
                        g.coaches[r] = null;
                    }
                });
                if (Array.isArray(g.coaches.extraRoam)) {
                    g.coaches.extraRoam = g.coaches.extraRoam.filter(id => id !== coachId);
                }
            });

            group.coaches[role] = coachId;
            group.coaches.extraRoam = group.coaches.extraRoam.filter(id => id !== coachId);

            const capacity = groupCapacity(group);
            if (capacity < group.riders.length) {
                group.riders = group.riders.slice(0, capacity);
            }

            saveData();
            renderAssignments(ride);
        }

        // Drag and drop functions
        function allowDrop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.add('drag-over');
        }

        function dragLeave(ev) {
            ev.currentTarget.classList.remove('drag-over');
        }

        function drag(ev) {
            ev.dataTransfer.setData("riderId", ev.target.dataset.riderId);
            ev.target.classList.add('dragging');
        }

        function drop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('drag-over');
            
            const riderId = parseInt(ev.dataTransfer.getData("riderId"), 10);
            const targetGroupId = ev.currentTarget.dataset.groupId;
            
            const ride = data.rides.find(r => r.id === data.currentRide);
            if (!ride || !Number.isFinite(riderId)) return;
            
            let previousGroupId = null;
            ride.groups.forEach(group => {
                if (group.riders.includes(riderId)) {
                    previousGroupId = group.id;
                }
            });

            removeRiderFromGroups(ride, riderId);
            
            if (targetGroupId !== 'unassigned') {
                const numericGroupId = parseInt(targetGroupId, 10);
                const group = findGroupById(ride, numericGroupId);
                if (!group) {
                    if (previousGroupId !== null) {
                        const previousGroup = findGroupById(ride, previousGroupId);
                        if (previousGroup) {
                            previousGroup.riders.push(riderId);
                        }
                    }
                    renderAssignments(ride);
                    return;
                }

                const coachCount = countGroupCoaches(group);
                if (coachCount === 0) {
                    alert('Assign at least one coach before adding riders to this group.');
                    if (previousGroupId !== null) {
                        const previousGroup = findGroupById(ride, previousGroupId);
                        if (previousGroup) {
                            previousGroup.riders.push(riderId);
                        }
                    }
                    renderAssignments(ride);
                    return;
                }

                const capacity = groupCapacity(group);
                if (group.riders.length >= capacity) {
                    alert(`This group is at capacity (${capacity} riders).`);
                    if (previousGroupId !== null) {
                        const previousGroup = findGroupById(ride, previousGroupId);
                        if (previousGroup) {
                            previousGroup.riders.push(riderId);
                        }
                    }
                    renderAssignments(ride);
                    return;
                }

                if (!group.riders.includes(riderId)) {
                    group.riders.push(riderId);
                    const rider = getRiderById(riderId);
                    if (!group.fitnessTag && rider) {
                        group.fitnessTag = rider.fitness || null;
                    }
                }
            }
            
            saveData();
            renderAssignments(ride);
            
            document.querySelectorAll('.rider-card').forEach(card => {
                card.classList.remove('dragging');
            });
        }

        // Initialize on load
        init();
    </script>


</body></html>